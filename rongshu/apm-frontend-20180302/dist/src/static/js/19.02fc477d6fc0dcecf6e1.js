/*! 2018-3-2 author:liuxiaofan */
webpackJsonp([19],{573:function(e,t,o){o(715);var a=o(54)(o(687),o(731),"data-v-8345724a",null);e.exports=a.exports},606:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(35);t.default={data:function(){return{loading:!1,loadingInstance:null}},mounted:function(){this.$refs.loadingContainer||console.warn("你使用了loadingMixin，但没有指定ref=loadingContainer的DOM节点，系统会自动在body上启用加载效果",this)},watch:{loading:function(e){e?this.loadingInstance=a.Loading.service({target:this.$refs.loadingContainer}):this.loadingInstance&&(this.loadingInstance.close(),this.loadingInstance=null)}}}},607:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{needReload:!0}},props:{options:{type:Object,default:{}},selected:{type:Boolean,default:!1}},watch:{options:{deep:!0,handler:function(e){console.log(e),this.needReload=!0,this.selected&&this._reload()}},selected:function(e){e&&this._reload()}},methods:{_reload:function(){this.needReload&&(this.reload(),this.needReload=!1)}}}},639:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAAsSAAALEgHS3X78AAAA8klEQVQ4y+XTrUtEURCG8d9em9koggajVS2KJv0LDB7k3CSCxbhBMBs1Ct4TbtpiFIOYFBZMNpPVZBD8iAYvsiz74ept+9QZHoZ3Zhg7Gv0KRSpX0MQyJnCH4zyG65GFRSp3cF6JurlAzGN4/ZWwSOU0HjE5YJA21vMY3rsLWY/m7SEyWESrSOVekcqFvhMWqZxHqnIbhXvs5zG0G5VoCqfYMmBRQ/jEaqPK7BYzfxR1cpPhpCYZLGXYrEkGLxmeahS2MhzVJHvAYZbH0MIuPv4hu8RaHsPbz4kUqZzFATYwp/fbdfLs+zrO8hiuaoxt7PkCE604F3HWQ7IAAAAASUVORK5CYII="},640:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAAsSAAALEgHS3X78AAACU0lEQVQ4y6WV3W/SUBiHn7KuJdCOQqEYt0TdZjRuzrjMeWVc9qfqhf+FxiwxMUSzjzCV4cXitqSUAm2B0QIeL1DKdmEG+12enDzvOe9zPiQhxDbwGUAIQafToe42qNddPM/H9wMuLy+JooiEJKEmk+i6RtYwsKw8lmWhaWkkSQI4loQQAqB8/I2jwzK9MGTaJJNJdnZecadokQD4/uOEUunrTDCAXq9HqfQFYAQsl49nAk2m2WzFwG63e2tgIpGIgaZp3hqoaekY+GJrE1mWbwV8cP8eAGPLQdBm/+CIhtvA8zx+j4b/G0mSMIwMi4t32Xz+jEQiMQI6Tp1CIT+eOBwOcd0GrZZHEASEYUTUj5CQUFQFTdPIGhksq4CiKFeLCCHEm7fvWF1dpmhZmGYOw8jceKvNZgu75nBxfsHu7mtkAF3XqFSqVCpVAGRZxsxlyRgZFnQdVVWZV+ZBCMIoot3u0Gy2cByHMIyuWJYBNjbW2dv7NK46GAywaw52zbnxSnO5bAxcWX6AhMT+wSG+H0xteEHXebm9FfdQCPHvcjMYDHDdBnXXHUnxJ6RIEoryV0rWoGgVKFgF5iePnBBCvP/wUVROqsLzfTFLPN8X1epPIYQQMsDZ2Tmnp79iIWaOvGliGBkWFq5JCSPa7TbNlodt13CcOv1+H1mWWVlZHvUwlUoRBO1YiF3DtmtT9TGdTo1sA6ytPZlaxPUsLS3Glh8/eshwOJj5gc3nTTaerseWJwTR6XRw6i6u25j4ArpEUZ+5uTlUVUXT0uMvoFgsjl8agD9wKVpt92FQ5QAAAABJRU5ErkJggg=="},641:function(e,t,o){o(652);var a=o(54)(o(645),o(656),null,null);e.exports=a.exports},642:function(e,t,o){o(651);var a=o(54)(o(646),o(655),null,null);e.exports=a.exports},645:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"RangeProgress",props:{offset:{type:Number,default:0},textClass:{type:String,default:""},items:{type:Array,default:function(){return[]}},percentage:{type:Number,default:0,required:!1},status:{type:String},strokeWidth:{type:Number,default:6},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0}},computed:{paddingTop:function(){var e=!1;return this.items.forEach(function(t){e=e||t.text&&t.text.length>0}),e},barStyle:function(){return this.getBarStyle()},textStyle:function(e){return this.getTextStyle()},relativeStrokeWidth:function(){return(this.strokeWidth/this.width*100).toFixed(1)},stroke:function(){var e;switch(this.status){case"success":e="#13ce66";break;case"exception":e="#ff4949";break;default:e="#20a0ff"}return e},iconClass:function(){return"success"===this.status?"el-icon-circle-check":"el-icon-circle-cross"}},methods:{getBarStyle:function(e){var t={};return t.position="absolute",e?(t.left=e.offset+"%",t.width=e.percentage+"%",t.backgroundColor=this.getStroke(e)):(t.left=this.offset+"%",t.width=this.percentage+"%"),t},getTextStyle:function(e){var t={};return t.left=e?e.offset+"%":this.offset+"%",t},getStroke:function(e){var t;switch(e?e.status:this.status){case"success":t="#29ca8e";break;case"exception":t="#5b97fb";break;default:t="#20a0ff"}return t}}}},646:function(e,t,o){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(204),n=a(r),i=o(654),l=a(i);t.default={name:"tree-table",components:{"base-table":l.default},data:function(){return{rowId:1,hoverRowIndex:-1,localNodes:[],width:0,nodesWidth:0,columnsWidth:0}},props:{striped:Boolean,bordered:Boolean,expandAll:{type:Boolean,default:!0},treeNodeColumnWidth:{default:200},nodes:{type:Array,default:function(){return[{id:1,c1:"根节点1根节点1根节点1根节点1根节点1",c2:"root1",children:[{id:3,c1:"子节点1",c2:"child-1",children:[{id:3,c1:"子节点1",c2:"child-1"}]}]},{id:2,c1:"根节点2",c2:"root2"}]}},columns:{type:Array,default:function(){return[{text:"树节点",value:"id"},{text:"列1",value:"c1",isTreeNode:!0},{text:"列2",value:"c2"}]}}},mounted:function(){},watch:{nodes:function(){var e=this,t=[],o=JSON.parse((0,n.default)(this.nodes));o&&o.length>0&&o.forEach(function(o){t=t.concat(e.plaintNode(o))}),this.localNodes=t}},methods:{plaintNode:function(e){var t=this,o=[];e.__id=this.rowId++,e.__level=e.__level||1,e.__expand=this.expandAll,e.__show=!!this.expandAll||1===e.__level;var a=e.children||[];return e.children&&e.children.length>0?(e.__isleaf=!1,delete e.children):e.__isleaf=!0,o.push(e),a.forEach(function(a){a.__level=e.__level+1,a.__expand=t.expandAll,a.__parent=e,a.__show=t.expandAll,o=o.concat(t.plaintNode(a))},this),o},toggleNode:function(e){var t=this,o=e.__expand=!e.__expand,a=o;t.localNodes.forEach(function(r){r.__id===e.__id&&(r.__expand=o,r.__show=!0),r.__parent&&r.__parent.__id===e.__id&&t.nodeChildrenVisible(r,a)}),t.localNodes=[].concat(t.localNodes)},nodeChildrenVisible:function(e,t){var o=this,a=e.__expand;o.localNodes.forEach(function(r,n){r.__id===e.__id?(r.__expand=a,r.__show=t):r.__parent&&r.__parent.__id===e.__id&&a&&o.nodeChildrenVisible(r,t)})},onHowerRowIn:function(e,t){this.hoverRowIndex=t},onHowerRowOut:function(e,t){this.hoverRowIndex=-1}}}},647:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"aux-table",props:{striped:Boolean,bordered:Boolean},mounted:function(){}}},648:function(e,t,o){t=e.exports=o(566)(),t.push([e.i,'.tree-table-wrapper{width:100%;position:relative}.tree-table-wrapper:after,.tree-table-wrapper:before{content:"";display:block;clear:both}.tree-table-wrapper .tree-table-nodes{float:left;width:200px;overflow:auto}.tree-table-wrapper .tree-table-nodes .au-bordered{border-right:0}.tree-table-wrapper .tree-table-nodes:after,.tree-table-wrapper .tree-table-nodes:before{content:"";display:block;clear:both}.tree-table-wrapper .tree-table-columns{position:absolute;left:200px;right:0}.tree-table-wrapper .tree-table-columns:after,.tree-table-wrapper .tree-table-columns:before{content:"";display:block;clear:both}.tree-table-wrapper .tree-table-hover-row{cursor:pointer;background-color:#eef1f6}.tree-table-wrapper .icon-arrow,.tree-table-wrapper icon-leaf{margin-right:0;display:inline-block;width:12px;height:12px;line-height:12px;vertical-align:middle}.tree-table-wrapper .icon-leaf:before{content:""}',""])},649:function(e,t,o){t=e.exports=o(566)(),t.push([e.i,".progress{position:relative;display:inline-block;width:100%}.progress .progress__text{position:absolute;font-size:10px;margin-left:-15px}.progress .progress-bar{padding:15px 0 0}.progress .progress-bar--nopadding{padding:0}.progress .progress-bar__outer{background-color:#e6ebf5;line-height:10px;height:10px;border-radius:0}.progress .progress-bar__inner{background-color:#409eff;line-height:10px;height:10px;border-radius:0}",""])},650:function(e,t,o){t=e.exports=o(566)(),t.push([e.i,".aux-table{width:100%}.aux-table>tr:not(:last-child),.aux-table tbody>tr,.aux-table tfoot>tr:not(:last-child),.aux-table thead>tr{background-color:#fff;border-bottom-width:1px;border-bottom-style:solid;border-color:#dfe6ec}.aux-table>tr:not(:last-child).hover-row,.aux-table>tr:not(:last-child) th,.aux-table tbody>tr.hover-row,.aux-table tbody>tr th,.aux-table tfoot>tr:not(:last-child).hover-row,.aux-table tfoot>tr:not(:last-child) th,.aux-table thead>tr.hover-row,.aux-table thead>tr th{background-color:#eef1f6}.aux-table td,.aux-table th{white-space:nowrap;vertical-align:middle;padding:3px;line-height:14px;height:24px;text-align:left;color:#000}.aux-table th{padding:10px}.aux-table td,.aux-table th{font-size:12px}.aux-table tfoot td:only-child{font-size:12px;text-align:right}.aux-striped tbody>tr:nth-child(2n){background-color:#fafafa}.aux-bordered{border:1px solid #dfe6ec}.aux-bordered td:not(:last-child),.aux-bordered th:not(:last-child){border-right-width:0;border-color:#dfe6ec;border-right-style:solid}.aux-bordered tbody>tr:last-child,.aux-bordered thead>tr:last-child{border-bottom-width:1px;border-bottom-style:solid}",""])},651:function(e,t,o){var a=o(648);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);o(567)("6b93d348",a,!0)},652:function(e,t,o){var a=o(649);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);o(567)("9ad97d10",a,!0)},653:function(e,t,o){var a=o(650);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);o(567)("7a8f0df3",a,!0)},654:function(e,t,o){o(653);var a=o(54)(o(647),o(657),null,null);e.exports=a.exports},655:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{ref:"tree-table-wrapper",staticClass:"tree-table-wrapper"},[o("div",{staticClass:"tree-table-nodes",style:{width:e.treeNodeColumnWidth.indexOf("%")>-1?e.treeNodeColumnWidth:e.treeNodeColumnWidth+2+"px"}},[o("base-table",{ref:"treeTableNodes",attrs:{bordered:!0,striped:!0}},[o("thead",[o("tr",e._l(e.columns,function(t,a){return t.isTreeNode?o("th",{key:a},[e._v("\n            "+e._s(t.text)+"\n          ")]):e._e()}))]),e._v(" "),o("tbody",e._l(e.localNodes,function(t,a){return t.__show?o("tr",{key:a,class:{"tree-table-hover-row":e.hoverRowIndex===a},on:{mouseover:function(o){e.onHowerRowIn(t,a)},mouseout:function(o){e.onHowerRowOut(t,a)},click:function(o){e.toggleNode(t)}}},e._l(e.columns,function(a,r){return a.isTreeNode?o("td",{key:r,style:{paddingLeft:10*t.__level+"px"}},[o("a",{attrs:{href:"javascript:void(0)"}},[o("i",{staticClass:"theme-font-icon-color-weak icon-arrow",class:{"ion-arrow-right-b":!t.__expand,"ion-arrow-down-b":t.__expand,"icon-leaf":t.__isleaf}}),e._v(e._s(t[a.value])+"\n          ")])]):e._e()})):e._e()}))])],1),e._v(" "),o("div",{staticClass:"tree-table-columns",style:{left:e.treeNodeColumnWidth.indexOf("%")>-1?e.treeNodeColumnWidth:e.treeNodeColumnWidth+"px"}},[o("base-table",{ref:"treeTableColumns",attrs:{bordered:!0,striped:!0}},[o("thead",[o("tr",e._l(e.columns,function(t,a){return t.isTreeNode?e._e():o("th",{key:a},[e._v("\n            "+e._s(t.text)+"\n          ")])}))]),e._v(" "),o("tbody",e._l(e.localNodes,function(t,a){return t.__show?o("tr",{key:a,class:{"tree-table-hover-row":e.hoverRowIndex===a},on:{mouseover:function(o){e.onHowerRowIn(t,a)},mouseout:function(o){e.onHowerRowOut(t,a)},click:function(o){e.toggleNode(t)}}},[void 0===e.$scopedSlots.columns?e._l(e.columns,function(a,r){return a.isTreeNode?e._e():o("td",{key:r},[e._v("\n              "+e._s(t[a.value])+"\n            ")])}):e._t("columns",null,{row:{value:t}})],2):e._e()}))])],1)])},staticRenderFns:[]}},656:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.items&&e.items.length>0?o("div",{staticClass:"progress"},[e._l(e.items,function(t,a){return t.text?o("div",{key:a,staticClass:"progress__text",style:e.getTextStyle(t)},[e._v("\n      "+e._s(t.text)+"\n    ")]):e._e()}),e._v(" "),o("div",{staticClass:"progress-bar",class:{"progress-bar--nopadding":!e.paddingTop}},[o("div",{staticClass:"progress-bar__outer"},e._l(e.items,function(t,a){return o("div",{key:a,staticClass:"progress-bar__inner",style:e.getBarStyle(t)})}))])],2):o("div",{staticClass:"progress"},[o("div",{staticClass:"progress__text",style:e.textStyle},[e._t("default")],2),e._v(" "),o("div",{staticClass:"progress-bar"},[o("div",{staticClass:"progress-bar__outer"},[o("div",{staticClass:"progress-bar__inner",style:e.barStyle})])])])},staticRenderFns:[]}},657:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("table",{ref:"table",staticClass:"\n  aux-table",class:{"aux-bordered":e.bordered}},[e._t("default")],2)},staticRenderFns:[]}},687:function(e,t,o){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(641),n=a(r),i=o(642),l=a(i),s=o(606),d=a(s),c=o(607),u=a(c),p=o(35);t.default={mixins:[d.default,u.default],data:function(){return{dataList:[],columns:[{text:"堆栈",value:"name",isTreeNode:!0},{text:"偏移量(ms)",value:"timeOffset"},{text:"耗时(ms)",value:"callTimeSpend"},{text:"耗时百分比",value:"callTimeSpend"},{text:"附加信息",value:"type"}]}},components:{"el-table":p.Table,"el-table-column":p.TableColumn,TreeTable:l.default,"range-progress":n.default},methods:{reload:function(){this.getTraceStackData()},getTraceStackData:function(){var e=this;e.loading=!0,e.api.getComponentSnapshotStacks({data:{condition:e.options},success:function(t){0===t.code&&(t.data&&t.data.length>0&&t.data.forEach(function(t){e.formatNode(t)}),e.dataList=t.data)},complete:function(){e.loading=!1}})},formatNode:function(e){var t=this,o=[],a=function(t){return e.totalTimeSpend?Math.round(t/e.totalTimeSpend*1e4)/100:0};o.push({offset:a(e.timeOffset),percentage:a(e.internalTimeSpend+e.callTimeSpend),status:"success",text:""}),e.children&&e.children.length>0?e.children.forEach(function(e){o.push({offset:a(e.timeOffset),percentage:a(e.internalTimeSpend+e.callTimeSpend),status:"exception",text:""}),t.formatNode(e)}):o.push({offset:a(e.timeOffset+e.internalTimeSpend),percentage:a(e.callTimeSpend),status:"exception",text:""}),e.progress=o}}}},702:function(e,t,o){t=e.exports=o(566)(),t.push([e.i,".table-box[data-v-8345724a]{height:100%;overflow:auto;position:relative;padding:24px;padding-top:0}.icon[data-v-8345724a]{display:inline-block;font-size:12px;width:14px;height:14px;background-repeat:no-repeat;background-size:100%}.icon-remote[data-v-8345724a]{background-image:url("+o(639)+")}.icon-database[data-v-8345724a]{background-image:url("+o(640)+")}.header[data-v-8345724a]{left:0;bottom:0;width:100%;background:#fff;box-shadow:0 0 10px 0 #ccc}.header .toolbar[data-v-8345724a]{list-style:none;padding:10px;float:right}.header .toolbar li[data-v-8345724a]{display:inline-block;margin-right:10px;line-height:20px;height:20px}.header .toolbar li .tag[data-v-8345724a]{display:inline-block;background-color:#5b97fb;vertical-align:middle;margin-right:2px;margin-bottom:2px;border-radius:2px;width:25px;height:12px}.header .toolbar li .tag.self[data-v-8345724a]{background-color:#29ca8e}",""])},715:function(e,t,o){var a=o(702);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);o(567)("77a7eeca",a,!0)},731:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{ref:"loadingContainer",staticClass:"table-box"},[e._m(0),e._v(" "),o("TreeTable",{attrs:{treeNodeColumnWidth:"50%",columns:e.columns,nodes:e.dataList},scopedSlots:e._u([{key:"columns",fn:function(t){return[o("td",{staticStyle:{width:"100px"}},[e._v(e._s(t.row.value.timeOffset))]),e._v(" "),o("td",{staticStyle:{width:"100px"}},[e._v(e._s(t.row.value.internalTimeSpend+t.row.value.callTimeSpend))]),e._v(" "),o("td",[o("div",{staticStyle:{"padding-right":"35px"}},[o("range-progress",{attrs:{status:"success","show-text":!0,"stroke-width":7,items:t.row.value.progress}}),e._v("\n        "+e._s(t.row.value.totalTimeSpend?Math.round((t.row.value.internalTimeSpend+t.row.value.callTimeSpend)/t.row.value.totalTimeSpend*1e4)/100:0)+"%\n        ")],1)]),e._v(" "),o("td",{staticStyle:{"text-align":"center",width:"80px"}},["REMOTE"===t.row.value.type?o("i",{staticClass:"icon theme-font-color-primary icon-remote",attrs:{title:"远程调用"}}):e._e(),e._v(" "),"DATABASE"===t.row.value.type?o("i",{staticClass:"icon theme-font-color-primary icon-database",attrs:{title:"数据库"}}):e._e()])]}}])})],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"header"},[o("ul",{staticClass:"toolbar"},[o("li",[o("span",{staticClass:"tag self"}),e._v("自身耗时")]),e._v(" "),o("li",[o("span",{staticClass:"tag"}),e._v("调用耗时")])])])}]}}});