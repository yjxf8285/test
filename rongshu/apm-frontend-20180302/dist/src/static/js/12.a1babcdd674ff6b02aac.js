/*! 2018-3-2 author:liuxiaofan */
webpackJsonp([12,13,14,15,17,18,19,23,31,32,33,34,35],{568:function(t,e,a){a(714);var n=a(54)(a(682),a(730),"data-v-66b1cf19",null);t.exports=n.exports},569:function(t,e,a){a(716);var n=a(54)(a(683),a(732),"data-v-c4ec3722",null);t.exports=n.exports},570:function(t,e,a){a(706);var n=a(54)(a(684),a(722),"data-v-162c4cd4",null);t.exports=n.exports},571:function(t,e,a){a(709);var n=a(54)(a(685),a(725),"data-v-28377c17",null);t.exports=n.exports},572:function(t,e,a){a(707);var n=a(54)(a(686),a(723),"data-v-195fc1e4",null);t.exports=n.exports},573:function(t,e,a){a(715);var n=a(54)(a(687),a(731),"data-v-8345724a",null);t.exports=n.exports},574:function(t,e,a){a(712);var n=a(54)(a(688),a(728),"data-v-639ff5c3",null);t.exports=n.exports},575:function(t,e,a){a(705);var n=a(54)(a(689),a(721),"data-v-0cf30e7e",null);t.exports=n.exports},576:function(t,e,a){a(708);var n=a(54)(a(690),a(724),"data-v-2525a2c1",null);t.exports=n.exports},577:function(t,e,a){a(710);var n=a(54)(a(691),a(726),"data-v-37f5917a",null);t.exports=n.exports},578:function(t,e,a){var n=a(54)(a(736),a(746),null,null);t.exports=n.exports},579:function(t,e,a){var n=a(54)(a(737),a(747),null,null);t.exports=n.exports},580:function(t,e,a){a(766);var n=a(54)(a(753),a(776),null,null);t.exports=n.exports},606:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(35);e.default={data:function(){return{loading:!1,loadingInstance:null}},mounted:function(){this.$refs.loadingContainer||console.warn("你使用了loadingMixin，但没有指定ref=loadingContainer的DOM节点，系统会自动在body上启用加载效果",this)},watch:{loading:function(t){t?this.loadingInstance=n.Loading.service({target:this.$refs.loadingContainer}):this.loadingInstance&&(this.loadingInstance.close(),this.loadingInstance=null)}}}},607:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{needReload:!0}},props:{options:{type:Object,default:{}},selected:{type:Boolean,default:!1}},watch:{options:{deep:!0,handler:function(t){console.log(t),this.needReload=!0,this.selected&&this._reload()}},selected:function(t){t&&this._reload()}},methods:{_reload:function(){this.needReload&&(this.reload(),this.needReload=!1)}}}},608:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{chartColors:["#a8d96f","#85cae6","#fab421","#f38211","#49a778","#e66a3e","#9d6858","#83bc1c","#4d6e83","#bac1c8"]}},created:function(){$(window).on("resize",this.change)},destroyed:function(){$(window).off("resize",this.change)},methods:{change:function(){this.chart&&this.chart.resize()}}}},610:function(t,e,a){a(614);var n=a(54)(a(611),a(615),"data-v-79cbf3c8",null);t.exports=n.exports},611:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{headerHeight:50}},props:{showBorder:{required:!1,default:!1},showHeader:{required:!1,default:!1},title:{default:""},isEmpty:{default:!0},isLoading:{default:!1},height:{default:350,required:!1}}}},612:function(t,e,a){"use strict";function n(t){var e,a;this.promise=new t(function(t,n){if(void 0!==e||void 0!==a)throw TypeError("Bad Promise constructor");e=t,a=n}),this.resolve=o(e),this.reject=o(a)}var o=a(203);t.exports.f=function(t){return new n(t)}},613:function(t,e,a){e=t.exports=a(566)(),e.push([t.i,".chart-container[data-v-79cbf3c8]{position:relative;border:0 solid;margin-bottom:16px;border-radius:2px;width:100%;height:100%}.chart-title[data-v-79cbf3c8]{width:100%;padding:0 16px;box-sizing:border-box;font-size:14px;color:#666!important}.chart-title .title-icon[data-v-79cbf3c8]{font-size:18px;margin-right:12px}.chart-placeholder[data-v-79cbf3c8]{position:relative;z-index:1;width:100%;height:100%;text-align:center}.chart-placeholder span[data-v-79cbf3c8]{position:absolute;top:50%;margin-top:-7px}.chart-header-hide[data-v-79cbf3c8]{display:none}.chart-border-hide[data-v-79cbf3c8]{border:0}",""])},614:function(t,e,a){var n=a(613);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(567)("a7f96c48",n,!0)},615:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"chart-container theme-backgroung-color-white theme-border-color-base",class:{"chart-border-hide":!t.showBorder},style:{height:t.height+"px"}},[a("div",{staticClass:"chart-title theme-font-color-base theme-background-color-normal",class:{"chart-header-hide":!t.showHeader},style:{height:t.headerHeight+"px",lineHeight:t.headerHeight+"px"}},[a("i",{staticClass:"title-icon icon ion-podium"}),t._v("\n    "+t._s(t.title)+"\n  ")]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isEmpty&&!t.isLoading,expression:"isEmpty && !isLoading"}],staticClass:"chart-placeholder theme-background-color-normal-1",style:{height:(t.showHeader?t.height-t.headerHeight:t.height)+"px"}},[a("span",{staticClass:"theme-font-color-weaken"},[t._v("暂无数据")])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.isEmpty,expression:"!isEmpty"}],staticClass:"chart-content",style:{height:(t.showHeader?t.height-t.headerHeight:t.height)+"px"}},[t._t("default")],2)])},staticRenderFns:[]}},616:function(t,e,a){a(623);var n=a(54)(a(619),a(629),"data-v-2a8bfc5e",null);t.exports=n.exports},617:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"node-link",data:function(){return{$link:null,sangle:0,tangle:0,length:0,arrowLength:8,arrowHeight:4,arrowMargin:50,startArrowData:"",endArrowData:"",playArrowData:"",stopArrowData:"",playArrowP1:"",playArrowP2:"",playArrowP3:"",playTime:3e3}},props:{data:{default:function(){return{}}},change:0,showTextFlag:!0,play:!1,dragFlag:!1,radius:{default:35},innerRadius:23,attachmentRadius:15,update:0},watch:{update:function(t){this.destroy(),this.rerender()},change:function(t){this.rerender()},play:function(t){if(this.dragFlag)return void this.stopArrowAnimation();t?this.playArrowAnimation():this.stopArrowAnimation()},dragFlag:function(t){t&&this.stopArrowAnimation()}},methods:{render:function(){this.renderLink()},rerender:function(){this.render()},destroy:function(){this.$link&&$(this.$link[0][0]).children().remove(),this.$link=null,this.sangle=0,this.tangle=0,this.length=0},renderLink:function(){var t=this.data;if(this.$link||(this.$link=d3.select(this.$refs.g)),this.csource=this.getCircleCenter(t.source),this.ctarget=this.getCircleCenter(t.target),this.csource&&!this.csource.hide&&this.ctarget&&!this.ctarget.hide){this.sangle=this.calAngle(this.csource,this.ctarget),this.tangle=this.sangle+Math.PI,t.source.symbol?(this.csource.x+=this.radius/2*Math.cos(this.sangle),this.csource.y+=this.radius/2*Math.sin(this.sangle)):(this.csource.x+=this.radius*Math.cos(this.sangle),this.csource.y+=this.radius*Math.sin(this.sangle)),t.target.symbol?(this.ctarget.x+=this.radius/2*Math.cos(this.tangle),this.ctarget.y+=this.radius/2*Math.sin(this.tangle)):(this.ctarget.x+=this.radius*Math.cos(this.tangle),this.ctarget.y+=this.radius*Math.sin(this.tangle));var e=this.needBezer(),a=this.getNodeSpace();if(this.bezerX=1===e?(this.csource.x+this.ctarget.x)/2:this.csource.x-a*this.radius,this.bezerY=1===e?this.csource.y-a*this.radius:(this.csource.y+this.ctarget.y)/2,e&&!this.data.notNeedBezerFlag)this.$link.select("path.bezer").empty()?this.$link.append("path").attr("d","M"+this.csource.x+","+this.csource.y+" Q"+this.bezerX+","+this.bezerY+" "+this.ctarget.x+","+this.ctarget.y).attr("class","bezer"):$(this.$link.select("path.bezer")[0][0]).remove();else{this.$link.select("line").empty()?this.$link.append("line").attr("x1",this.csource.x).attr("y1",this.csource.y).attr("x2",this.ctarget.x).attr("y2",this.ctarget.y):this.$link.select("line").attr("x1",this.csource.x).attr("y1",this.csource.y).attr("x2",this.ctarget.x).attr("y2",this.ctarget.y);var n=this.$link.select("path.bezer");n.empty()||$(n[0][0]).remove()}"MQ"!==t.source.type&&"MQ"!==t.target.type||this.$link.classed("dash",!0),e&&!this.data.notNeedBezerFlag?this.drawBezerArrow(this.csource,this.ctarget,{x:this.bezerX,y:this.bezerY}):this.drawLineArrow(this.csource,this.ctarget);var o=this.$link.select("text.line-text"),i=this.$link.select("text.line-text .adsFlowMapTextShadow"),r=this.$link.select("text.line-text .real");o.empty()&&(o=this.$link.append("text").attr("class","line-text"),i=o.append("tspan").attr("class","adsFlowMapTextShadow").style("text-anchor","middle").text(this.data.label),r=o.append("tspan").attr("class","real").text(this.data.label));var s=(this.csource.x+this.ctarget.x)/2,l=(this.csource.y+this.ctarget.y)/2;if(e&&!this.data.notNeedBezerFlag){var c=this.getBeZerPoint(this.csource,this.ctarget,{x:this.bezerX,y:this.bezerY},.5);o&&(o.attr("x",c.x).attr("y",c.y),i.attr("x",c.x).attr("y",c.y),r.attr("x",c.x).attr("y",c.y))}else o&&(o.attr("x",s).attr("y",l+3),i.attr("x",s).attr("y",l+3),r.attr("x",s).attr("y",l+3)),this.csource.x,this.ctarget.x;this.showTextFlag?o&&o.classed("hide",!1):o&&o.classed("hide",!0)}},drawLineArrow:function(t,e){var a,n,o,i,r,s,l,c,d,h,u,p,f,g;t.x===e.x?(n={x:t.x,y:t.y<e.y?t.y+this.arrowMargin:t.y-this.arrowMargin},o={x:t.x,y:t.y<e.y?t.y+this.arrowMargin-this.arrowLength:t.y-this.arrowMargin+this.arrowLength},i={x:t.x+this.arrowHeight,y:o.y},r={x:t.x-this.arrowHeight,y:o.y},l={x:t.x,y:t.y<e.y?e.y-this.arrowMargin:e.y+this.arrowMargin},s={x:t.x,y:t.y<e.y?e.y-this.arrowMargin+this.arrowLength:e.y+this.arrowMargin-this.arrowLength},c={x:t.x+this.arrowHeight,y:l.y},d={x:t.x-this.arrowHeight,y:l.y},this.playArrowP1={x:t.x,y:t.y<e.y?t.y+this.arrowLength:t.y-this.arrowLength},h={x:t.x,y:t.y},this.playArrowP2={x:t.x+this.arrowHeight,y:h.y},this.playArrowP3={x:t.x-this.arrowHeight,y:h.y},u={x:e.x,y:e.y},p={x:e.x,y:t.y<e.y?e.y-this.arrowLength:e.y+this.arrowLength},f={x:e.x+this.arrowHeight,y:p.y},g={x:e.x-this.arrowHeight,y:p.y}):t.y===e.y?(n={x:t.x<e.x?t.x+this.arrowMargin:t.x-this.arrowMargin,y:t.y},o={x:t.x<e.x?t.x+this.arrowMargin-this.arrowLength:t.x-this.arrowMargin+this.arrowLength,y:t.y},i={x:o.x,y:t.y+this.arrowHeight},r={x:o.x,y:t.y-this.arrowHeight},s={x:t.x<e.x?e.x-this.arrowMargin+this.arrowLength:e.x+this.arrowMargin-this.arrowLength,y:e.y},l={x:t.x<e.x?e.x-this.arrowMargin:e.x+this.arrowMargin,y:e.y},c={x:l.x,y:e.y+this.arrowHeight},d={x:l.x,y:e.y-this.arrowHeight},this.playArrowP1={x:t.x<e.x?t.x+this.arrowLength:t.x-this.arrowLength,y:t.y},h={x:t.x,y:t.y},this.playArrowP2={x:h.x,y:t.y+this.arrowHeight},this.playArrowP3={x:h.x,y:t.y-this.arrowHeight},u={x:e.x,y:e.y},p={x:t.x<e.x?e.x-this.arrowLength:e.x+this.arrowLength,y:e.y},f={x:p.x,y:e.y+this.arrowHeight},g={x:p.x,y:e.y-this.arrowHeight}):(a=this.getlinek(t,e),n=this.getPointByLine(a,this.arrowMargin,t,t.x<e.x?1:-1),o=this.getPointByLine(a,this.arrowMargin-this.arrowLength,t,t.x<e.x?1:-1),i=this.getPointByLine(-1/a,this.arrowHeight,o,1),r=this.getPointByLine(-1/a,this.arrowHeight,o,-1),s=this.getPointByLine(a,-this.arrowMargin+this.arrowLength,e,t.x<e.x?1:-1),l=this.getPointByLine(a,-this.arrowMargin,e,t.x<e.x?1:-1),c=this.getPointByLine(-1/a,this.arrowHeight,l,1),d=this.getPointByLine(-1/a,this.arrowHeight,l,-1),this.playArrowP1=this.getPointByLine(a,this.arrowLength,t,t.x<e.x?1:-1),h={x:t.x,y:t.y},this.playArrowP2=this.getPointByLine(-1/a,this.arrowHeight,h,1),this.playArrowP3=this.getPointByLine(-1/a,this.arrowHeight,h,-1),u={x:e.x,y:e.y},p=this.getPointByLine(a,this.arrowLength,e,t.x<e.x?-1:1),f=this.getPointByLine(-1/a,this.arrowHeight,p,1),g=this.getPointByLine(-1/a,this.arrowHeight,p,-1)),this.createArrow(n,i,r,"startArrow"),this.createArrow(s,c,d,"endArrow"),this.createArrow(this.playArrowP1,this.playArrowP2,this.playArrowP3,"playArrow"),this.stopArrowData=this.getArrowData(u,f,g)},drawBezerArrow:function(t,e,a){var n=this.getBeZerLength(t,e,a),o=this.getBeZerPoint(t,e,a,this.arrowMargin/n),i=this.getBeZerPoint(t,e,a,(this.arrowMargin-this.arrowLength)/n),r=this.getlinek(i,o),s=this.getPointByLine(-1/r,this.arrowHeight,i,1),l=this.getPointByLine(-1/r,this.arrowHeight,i,-1),c=this.getBeZerPoint(t,e,a,(n-this.arrowMargin+this.arrowLength)/n),d=this.getBeZerPoint(t,e,a,(n-this.arrowMargin)/n),h=this.getlinek(d,c),u=this.getPointByLine(-1/h,this.arrowHeight,d,1),p=this.getPointByLine(-1/h,this.arrowHeight,d,-1);this.playArrowP1=this.getBeZerPoint(t,e,a,this.arrowLength/n);var f=t;this.playArrowP2=this.getPointByLine(-1/r,this.arrowHeight,f,1),this.playArrowP3=this.getPointByLine(-1/r,this.arrowHeight,f,-1),this.createArrow(o,s,l,"startArrow"),this.createArrow(c,u,p,"endArrow"),this.createArrow(this.playArrowP1,this.playArrowP2,this.playArrowP3,"playArrow")},getBezerArrowPoint:function(t,e,a,n){var o=this.getBeZerLength(t,e,a),i=this.getBeZerPoint(t,e,a,(n*o+this.arrowLength)/o),r=this.getBeZerPoint(t,e,a,n),s=this.getlinek(r,i);return[i,this.getPointByLine(-1/s,this.arrowHeight,r,1),this.getPointByLine(-1/s,this.arrowHeight,r,-1)]},createArrow:function(t,e,a,n){var o=this.$link.select("path.arrow."+n);return o.empty()&&(o=this.$link.append("path").attr("class","arrow "+n)),this[n+"Data"]=this.getArrowData(t,e,a),o.attr("d",this[n+"Data"]),o},getArrowData:function(t,e,a){return"M"+t.x+" "+t.y+" L"+e.x+" "+e.y+" L"+a.x+" "+a.y+" Z"},getlinek:function(t,e){return e.x!==t.x&&(e.y-t.y)/(e.x-t.x)},getPointByLine:function(t,e,a,n){return!1===t?{x:a.x,y:a.y-n*e}:{x:a.x+n*(e/Math.sqrt(Math.pow(t,2)+1)),y:a.y+n*(t*e/Math.sqrt(Math.pow(t,2)+1))}},getBeZerPoint:function(t,e,a,n){return{x:Math.pow(1-n,2)*t.x+2*n*(1-n)*a.x+Math.pow(n,2)*e.x,y:Math.pow(1-n,2)*t.y+2*n*(1-n)*a.y+Math.pow(n,2)*e.y}},getBeZerLength:function(t,e,a){var n=t.x-2*a.x+e.x,o=t.y-2*a.y+e.y,i=2*a.x-2*t.x,r=2*a.y-2*t.y,s=4*(n*n+o*o),l=4*(n*i+o*r),c=i*i+r*r;return 1/(8*Math.pow(s,1.5))*(2*Math.sqrt(s)*(2*s*1*Math.sqrt(1*s*1+1*l+c)+l*(Math.sqrt(1*s*1+1*l+c)-Math.sqrt(c)))+(l*l-4*s*c)*(Math.log(l+2*Math.sqrt(s*c))-Math.log(l+2*s*1+2*Math.sqrt(s)*Math.sqrt(1*s*1+1*l+c))))},needBezer:function(){var t=this.isSameLineNotSide();return t||0},getNodeSpace:function(){var t=parseInt(this.data.source.domId.substr(5,2)),e=parseInt(this.data.source.domId.substr(8,2)),a=parseInt(this.data.target.domId.substr(5,2)),n=parseInt(this.data.target.domId.substr(8,2));return t===a&&e+1!==n&&e-1!==n?Math.abs(n-e):e===n&&t+1!==a&&t-1!==a?Math.abs(a-t):0},isSameLineNotSide:function(){var t=parseInt(this.data.source.domId.substr(5,2)),e=parseInt(this.data.source.domId.substr(8,2)),a=parseInt(this.data.target.domId.substr(5,2)),n=parseInt(this.data.target.domId.substr(8,2));return t===a&&e+1!==n&&e-1!==n?2:e===n&&t+1!==a&&t-1!==a?1:0},calAngle:function(t,e){var a=Math.atan((e.y-t.y)/(e.x-t.x));return a=t.x>e.x?Math.PI+a:a},getCircleCenter:function(t){var e=d3.select("g.node."+t.domId);if(e&&e.attr("transform")){var a=this.getOffsetByTransform(e.attr("transform"));if(t.symbol){var n=e.select(".node-core").attr("width");return a.x+=n/2,a.y+=n/2,a}return a}},getOffsetByTransform:function(t){var e=t.indexOf("translate"),a=t.substr(e+9),n=a.indexOf("("),o=a.indexOf(")");a=a.substr(n+1,o-n-1);var i=a.split(",");return 2!==i.length&&(i=a.split(" ")),{x:parseInt(i[0]),y:parseInt(i[1])}},showText:function(){$(".line-text",this.$link[0][0]).show()},hideText:function(){$(".line-text",this.$link[0][0]).hide()},playArrowAnimation:function(){var t=this.createArrow(this.playArrowP1,this.playArrowP2,this.playArrowP3,"playArrow"),e=this;if(this.hideArrow(),$("path.playArrow",this.$link[0][0]).show(),this.needBezer()&&!this.data.notNeedBezerFlag){this.arr=[];for(var a=e.playTime/1e3*60,n=0;n<a;n++){var o=e.getBezerArrowPoint(e.csource,e.ctarget,{x:e.bezerX,y:e.bezerY},n/a);this.arr.push(e.getArrowData(o[0],o[1],o[2]))}t.transition().duration(this.playTime).ease("linear").each("end",function(){t.attr("d",e.playArrowData),e.playArrowAnimation()}).attrTween("d",this.dTween)}else t.transition().duration(this.playTime).ease("linear").each("end",function(){t.attr("d",e.playArrowData),e.playArrowAnimation()}).attr("d",this.stopArrowData)},dTween:function(){var t=d3.scale.quantize().domain([0,1]).range(this.arr);return function(e){return t(e)}},stopArrowAnimation:function(){var t=this.$link.select(".playArrow");this.showArrow(),t.transition().remove(),this.createArrow(this.playArrowP1,this.playArrowP2,this.playArrowP3,"playArrow"),$(t[0][0]).hide()},hideArrow:function(){$("path.startArrow",this.$link[0][0]).hide(),$("path.endArrow",this.$link[0][0]).hide()},showArrow:function(){$("path.startArrow",this.$link[0][0]).show(),$("path.endArrow",this.$link[0][0]).show()}},created:function(){},mounted:function(){this.render(),this.$emit("onLinkFinished",this.data)},updated:function(){}}},618:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"topo-node",data:function(){return{$node:null,arc:null,pie:null,offsetX:0,offsetY:0}},props:{colors:{default:function(){return{normal:"#a9d86e",slow:"#86cae4",very_slow:"#fcb322",error:"#f58210",warning:"#86cae4",normality:"#86cae4",intolerance:"#f58210",healthy:"#a9d86e",crossApp:"#8b97a3"}}},attachmentRadius:{default:15},attachmentColor:{default:"#338cff"},attachmentTextOffset:{default:function(){return{x:2,y:3}}},attachmentSummary:{default:function(){return{show:!0,formatter:function(){},position:"left"}}},radius:{default:35},scale:{default:1},innerRadius:{default:22},bigFont:{default:function(){return{color:"#3e3d39",size:14}}},smallFont:{default:function(){return{color:"#3e3d39",size:12}}},data:{default:function(){return{}}},spaceCircleColor:{default:"white"},update:0},watch:{update:function(t){this.data.hide||(this.destroy(),this.render())},scale:function(t){this.scaleChange(t)}},methods:{render:function(){this.data.hide||(this.createNode(),this.renderNode())},destroy:function(){this.$node&&$(this.$node[0][0]).children().remove(),this.$node=null,this.arc=null,this.pie=null},createNode:function(){this.$node||(this.$node=d3.select(this.$refs.g).attr("transform","translate("+(this.radius+this.data.x)+","+(this.radius+this.data.y)+")"))},renderNode:function(){this.data.symbol?this.renderImg():(this.renderPie(),this.data.crossApp||this.renderAttachment())},renderPie:function(){var t=this.getPie(),e=this.getArc();this.data.crossApp&&(this.data.status=[{value:1,name:"crossApp"}]);var a=this.$node.selectAll("path.arc").data(t(this.data.status)),n=this.colors;a.enter().append("path").attr("class","arc node-core").attr("fill",function(t,e){return n[t.data.name]}),a.transition().attrTween("d",function(t){var a=this.__current__;a||(a={startAngle:0,endAngle:0});var n=d3.interpolate(a,t);return this.__current__=n(1),function(t){return e(n(t))}}),this.$node.append("circle").attr("cx",0).attr("cy",0).attr("r",this.innerRadius).attr("fill",this.spaceCircleColor),this.data.crossApp||this.$node.append("text").attr("class","instances").attr("text-anchor","middle").attr("y",5).text((this.data.activeInstances?this.data.activeInstances:0)+"/"+(this.data.instances?this.data.instances:0)),this.$node.append("text").attr("class","pie-name").attr("y",this.radius+15).attr("fill",this.smallFont.color).style("text-anchor","middle").text(this.data.showName),this.data.crossApp||this.renderSummary(this.$node,this.radius)},renderImg:function(){var t=2*this.radius*(2/3);this.$node.append("image").attr("class","node-core").attr("width",t).attr("height",t).attr("xlink:href",this.resolveImgUrl(this.data.symbol)),this.$node.append("text").attr("class","pie-name").attr("y",t+10).attr("fill",this.smallFont.color).style("text-anchor","middle").attr("transform","translate("+t/2+")").text(this.data.showName),this.renderSummary(this.$node,t,1*t/3)},renderSummary:function(t,e,a){if(this.attachmentSummary.show){var n=this.attachmentSummary.formatter(this.data);if(n instanceof Array&&n.length>0){var o=t.append("text").attr("class","pie-summary").attr("x",e).attr("fill",this.smallFont.color);n.forEach(function(t){o.append("tspan").attr("x",e+10).attr("class","adsFlowMapTextShadow").attr("dy",13).text(t),o.append("tspan").attr("x",e+10).text(t)});var i=13*n.length;a?o.attr("y",a):o.attr("y",-i/2)}}},renderAttachment:function(){var t=-this.radius,e=this.radius-this.attachmentRadius;this.$node.append("circle").attr("class","attachement").attr("fill",this.attachmentColor).attr("cx",t).attr("cy",e).attr("r",this.attachmentRadius),this.$node.append("text").attr("class","attachement-text").attr("fill","white").attr("x",t-this.attachmentRadius+2).attr("y",e+3).text(this.data.serverName)},getArc:function(){return this.arc?this.arc:(this.arc=d3.svg.arc().outerRadius(this.radius).innerRadius(this.innerRadius),this.arc)},getPie:function(){return this.pie?this.pie:(this.pie=d3.layout.pie().value(function(t){return t.value}),this.pie)},resolveImgUrl:function(t){var e=t.indexOf("image://");return e>=0?t.substr(e+8):t},addEvent:function(){var t=this;this.$node.call(d3.behavior.drag().on("drag",function(){d3.event.sourceEvent.offsetX===t.offsetX&&d3.event.sourceEvent.offsetY===t.offsetY||(t.dragFlag||setTimeout(function(){t.dragFlag=!0},200),d3.select(this).attr("transform",function(t){return"translate("+d3.event.x+", "+d3.event.y+")"}),t.data.x=d3.event.x,t.data.y=d3.event.y,t.$emit("onNodeMove",t.data))}).on("dragstart",function(e){t.offsetX=d3.event.sourceEvent.offsetX,t.offsetY=d3.event.sourceEvent.offsetY,d3.event.sourceEvent.stopPropagation(),t.$emit("onMouseDown",t.data,d3.event.sourceEvent)}).on("dragend",function(){t.offsetX=0,t.offsetY=0,t.$emit("onMouseUp",t.data,d3.event.sourceEvent,t.dragFlag),t.dragFlag=!1}))},parseTransform:function(t){t=t.substr(10),t=t.substr(0,t.length-1);var e=t.split(",");return e&&2===e.length||(e=t.split(" ")),e[0]=parseFloat(e[0]),e[1]=parseFloat(e[1]),e},scaleChange:function(t){},onEnterNode:function(t){this.$emit("onEnterNode",this.data,t)},onLeaveNode:function(t){this.$emit("onLeaveNode",this.data,t)}},mounted:function(){this.data.hide||(this.render(),this.addEvent())}}},619:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=a(627),i=n(o),r=a(626),s=n(r),l=a(35);e.default={name:"topo",components:{TopoNode:i.default,TopoLink:s.default,"el-button":l.Button,"el-table":l.Table,"el-table-column":l.TableColumn,"el-input":l.Input,"el-form":l.Form,"el-form-item":l.FormItem,"el-dialog":l.Dialog,"el-pagination":l.Pagination,"el-breadcrumb":l.Breadcrumb,"el-breadcrumb-item":l.BreadcrumbItem,"el-switch":l.Switch,"el-tooltip":l.Tooltip,"el-tag":l.Tag,"el-checkbox":l.Checkbox},data:function(){return{lineTextFlag:!0,bezerFlag:!0,linkFinishedNum:0,scale:this.data.scale||1,translate:[0,0],scaleScales:null,pixelScales:null,maxMargin:0,sliderTop:1,scaleRange:[.35,3],topo_z:null,updateNode:0,updateLink:0,tooltip:{show:!1,left:0,top:0,delay:0},nodeDetailVisible:!1,modal:!1,tierList:[]}},props:{data:{default:function(){return{}}},radius:{default:35},innerRadius:23,attachmentRadius:15,update:0,attachmentSummary:{show:!0,formatter:function(t){},position:"left"},fullbtnDisplay:{default:!0},setFullScreen:{default:!1}},watch:{data:function(t){t.scale&&(this.scaleRange[0]<t.scale&&(this.scaleRange[0]=t.scale),this.scale=t.scale),(t.offsetLeft||t.offsetTop)&&(this.translate[0]=t.offsetLeft?t.offsetLeft:0,this.translate[1]=t.offsetTop?t.offsetTop:0,d3.select(this.$refs["topo-container"]).attr("transform","translate("+this.translate+") scale("+[this.scale,this.scale]+")"),this.topo_z.translate(this.translate))},update:function(t){this.updateNode=t,this.updateLink=t,this.zoom(this.scale)},scale:function(t){this.zoom(t)},sliderTop:function(t){this.setSliderTop(t)},setFullScreen:function(t){t&&this.fullScreen(),this.$emit("onFullScreenChange",t)}},methods:{resetContainer:function(){d3.select(this.$refs["topo-container"]).attr("transform","translate(0, 0) scale(1)")},render:function(){var t=this,e=$(t.$refs.slider).height(),a=$(t.$refs["slider-thumb"]).height();this.maxMargin=e-a;var n=t.scaleRange[1],o=t.scaleRange[0],i=this.maxMargin;this.scaleScales=t.getScaleRelation(1,i,n,o),this.pixelScales=t.getScaleRelation(n,o,1,i),this.computeSliderTop(),$(this.$refs.fullscreen).hover(function(){$(this).attr("src","/static/images/maximize_blue.svg")},function(){$(this).attr("src","/static/images/maximize_gray.svg")})},adjustLink:function(){var t=$(this.$refs["topo-container"]);$("g.link",this.$refs["topo-svg"]).each(function(e,a){$(a).remove(),t.prepend(a)})},addEvent:function(){var t=this;this.topo_z=d3.behavior.zoom().scaleExtent(t.scaleRange).on("zoom",this.zoom),d3.select(t.$refs["topo-svg"]).call(this.topo_z).on("dblclick.zoom",null),this.dispatch=d3.dispatch("mousewheel"),this.dispatch.on("mousewheel",this.zoom),window.addEventListener("resize",function(){t.fullstatus&&t.fullScreen()})},zoom:function(t,e){var a=t||d3.event.scale,n=this;a>.88?(this.lineTextFlag=!0,setTimeout(function(){$(".line-text",n.$refs["topo-svg"]).show(),$(".pie-summary",n.$refs["topo-svg"]).show(),$(".attachement-text",n.$refs["topo-svg"]).show(),$(".attachement",n.$refs["topo-svg"]).show()},100)):(setTimeout(function(){$(".line-text",n.$refs["topo-svg"]).hide(),$(".pie-summary",n.$refs["topo-svg"]).hide(),$(".attachement-text",n.$refs["topo-svg"]).hide(),$(".attachement",n.$refs["topo-svg"]).hide()},100),this.lineTextFlag=!1),a>.68?setTimeout(function(){$(".pie-name",n.$refs["topo-svg"]).show()},100):setTimeout(function(){$(".pie-name",n.$refs["topo-svg"]).hide()},100);var o=d3.transform(d3.select(n.$refs["topo-container"]).attr("transform"));if(this.scale!==a||t||(this.translate=[o.translate[0],o.translate[1]]),this.tooltip.show=!1,!d3.event&&e){d3.select(n.$refs["topo-container"]).attr("transform","scale("+[a,a]+")");var i=n.$refs["topo-container"].getBoundingClientRect(),r=[this.translate[0]+(this.data.scale-a)*(i.width/2)/a,this.translate[1]+(this.data.scale-a)*(i.height/2)/a];d3.select(n.$refs["topo-container"]).attr("transform","translate("+r+") scale("+[a,a]+")"),this.topo_z.translate(r)}else d3.select(n.$refs["topo-container"]).attr("transform","translate("+(d3.event?d3.event.translate:o.translate)+") scale("+[a,a]+")"),this.topo_z.translate(d3.event?d3.event.translate:o.translate);this.scale=a,this.topo_z.scale(this.scale),this.computeSliderTop()},setSliderTop:function(t){$(this.$refs["slider-thumb"]).css("margin-top",t+"px")},computeSliderTop:function(){this.sliderTop=this.pixelScales[0]*this.scale+this.pixelScales[1],this.sliderTop=this.sliderTop<1?1:this.sliderTop,this.sliderTop=this.sliderTop>this.maxMargin?this.maxMargin:this.sliderTop},computeScale:function(){return this.scaleScales[0]*this.sliderTop+this.scaleScales[1]},onNodeMove:function(t,e){if(this.data.links){t.drillDown&&1*new Date-this.tooltip.delay>100&&(this.tooltip.show=!1,this.tooltip.delay=1*new Date);this.getLinksByNode(t).forEach(function(t,e){t.change++,t.notNeedBezerFlag=!0}),this.$emit("onNodeMove",t,e)}},onMouseDown:function(t,e){if(this.data.links){this.getLinksByNode(t).forEach(function(t,e){t.dragFlag=!0}),this.$emit("onMouseDownNode",t,e)}},onMouseUp:function(t,e,a){if(this.data.links){this.getLinksByNode(t).forEach(function(t,e){t.dragFlag=!1}),a||this.$emit("onMouseUpNode",t,e),!a&&t.list&&t.list.length>1&&(this.tierList=t.list,this.nodeDetailVisible=!0)}},onLinkFinished:function(t,e){this.linkFinishedNum++,this.linkFinishedNum===this.data.links.length&&(this.adjustLink(),this.linkFinishedNum=0),this.$emit("onLinkFinished",t,e)},closeDialog:function(){this.nodeDetailVisible=!1},onEnterNode:function(t,e){if(e=e||window.event,this.data.links){var a=e.target.getBoundingClientRect(),n=$(this.$refs["topo-svg"]).offset();t.drillDown&&(this.tooltip.left=a.left-n.left+a.width/20*this.scale,this.tooltip.top=a.top-n.top-$(this.$refs.tooltip).height()-10,this.tooltip.show=!0,this.tooltip.delay=1*new Date);this.getLinksByNode(t).forEach(function(t,e){t.play=!0}),this.$emit("onEnterNode",t,e)}},parseTransform:function(t){if(t){t=t.substr(10),t=t.substr(0,t.length-1);var e=t.split(",");return e&&2===e.length||(e=t.split(" ")),e[0]=parseFloat(e[0]),e[1]=parseFloat(e[1]),e}},onLeaveNode:function(t,e){if(this.data.links){t.drillDown&&1*new Date-this.tooltip.delay>100&&(this.tooltip.show=!1,this.tooltip.delay=1*new Date);this.getLinksByNode(t).forEach(function(t,e){t.play=!1}),this.$emit("onLeaveNode",t,e)}},onSliderDown:function(t){var e=this,a=t.clientY;document.onmousemove=function(t){var n=t.clientY-a;e.sliderTop+=n,e.sliderTop=e.sliderTop<1?1:e.sliderTop,e.sliderTop=e.sliderTop>e.maxMargin?e.maxMargin:e.sliderTop;var o=e.computeScale();a=t.clientY,e.dispatch&&e.dispatch.mousewheel(o,!0)},document.onmouseup=function(){document.onmousemove=null,document.onmouseup=null}},fullScreen:function(t){var e=$("body").width(),a=$("body").height();$(this.$refs.topo).width(e),$(this.$refs.topo).height(a),$(this.$refs.topo).addClass("full"),$(this.$refs.fullscreen).hide(),$(this.$refs.restore).show(),this.fullstatus=!0},restore:function(t){$(this.$refs.topo).width("100%"),$(this.$refs.topo).height("100%"),$(this.$refs.topo).removeClass("full"),$(t.target).hide(),$(this.$refs.fullscreen).show(),this.$emit("onFullScreenChange",!1),this.fullstatus=!1},getScaleRelation:function(t,e,a,n){return[(n-a)/(e-t),a-t*(n-a)/(e-t)]},getLinksByNode:function(t){for(var e=[],a=0;a<this.data.links.length;a++){var n=this.data.links[a];n.source.domId!==t.domId&&n.target.domId!==t.domId||e.push(n)}return e}},created:function(){},mounted:function(){this.render(),this.addEvent()},updated:function(){var t=this,e=this.$refs.topo.clientHeight,a=parseInt($(t.$refs.slider).css("top")),n=e-2*a;e<=0||(e<2*a+$(t.$refs.slider).height()&&($(t.$refs.slider).height(n),this.render()),$(t.$refs.slider).show())}}},620:function(t,e,a){e=t.exports=a(566)(),e.push([t.i,"@keyframes down{0%{transform:translateY(0)}20%{transform:translateY(-2px)}50%{transform:translateY(2px)}75%{transform:translateY(1px)}to{transform:translateY(0)}}.topo.full[data-v-2a8bfc5e]{position:fixed;top:0;left:0;right:0;bottom:0;z-index:1000;background:#fff}.topo[data-v-2a8bfc5e]{width:100%;height:100%;position:relative;moz-user-select:-moz-none;-moz-user-select:none;-o-user-select:none;-khtml-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.topo svg[data-v-2a8bfc5e]{width:100%;height:100%}.topo svg g.node[data-v-2a8bfc5e]:hover{cursor:pointer}.tooltip[data-v-2a8bfc5e]{position:absolute;float:left;left:-100000px;top:-100000;background-color:#fff;border-radius:5px;box-shadow:1px 1px 1px 1px #ccc;line-height:22px;padding:5px 10px}.tooltip i[data-v-2a8bfc5e]{font-size:18px;display:inline-block;vertical-align:middle;margin-bottom:2px;border-bottom:2px solid #ccc;box-sizing:border-box}.tooltip.show i[data-v-2a8bfc5e]{animation:down .5s ease-in;animation-delay:.5s;animation-iteration-count:2}.fade-enter-active[data-v-2a8bfc5e]{transition:all .5s ease}.fade-leave-active[data-v-2a8bfc5e]{transition:all 0s ease}.fade-enter[data-v-2a8bfc5e],.fade-leave-active[data-v-2a8bfc5e]{opacity:0}.topo .slider[data-v-2a8bfc5e]{width:10px;height:200px;position:absolute;top:50px;left:15px;background:#f5f5f5;border:1px solid #d7d7d7;border-radius:12px;display:none}.topo .slider .slider-thumb[data-v-2a8bfc5e]{width:12px;height:12px;border-radius:12px;background:#9aa3b2;margin-left:-2px;margin-top:1px;box-shadow:2px 2px 2px 2px hsla(0,0%,100%,.8);cursor:pointer}.topo .toolbar[data-v-2a8bfc5e]{position:absolute;top:10px;right:10px}.topo .toolbar img[data-v-2a8bfc5e]{cursor:pointer}.topo .toolbar .restore[data-v-2a8bfc5e]{display:none}",""])},621:function(t,e,a){e=t.exports=a(566)(),e.push([t.i,'.link line{stroke:#2693ff;stroke-width:1}.link.dash line{stroke-dasharray:3}.link line:hover{stroke-width:2}.hide,.link path.arrow.playArrow{display:none}.link path.bezer{fill:none;stroke:#2693ff;stroke-width:1}.link.dash path.bezer{stroke-dasharray:3}.link path.bezer:hover{stroke-width:2}.link path.arrow{fill:#2693ff}.link .line-text{font-size:10px;font-weight:"normal";font-style:"-apple-system,Microsoft Yahei,system-ui,BlinkMacSystemFont,Open Sans,Hiragino Sans GB,sans-serif";color:"#000"}.adsFlowMapTextShadow{stroke:#fff;stroke-width:4px;stroke-opacity:.8;fill:#fff;fill-opacity:1;font-size:10px}.real{text-anchor:middle;font-size:10px}',""])},622:function(t,e,a){e=t.exports=a(566)(),e.push([t.i,".instances{font-size:18px}.adsFlowMapTextShadow{stroke:#fff;stroke-width:4px;stroke-opacity:.8;fill:#fff;fill-opacity:1}.pie-summary{font-size:10px}",""])},623:function(t,e,a){var n=a(620);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(567)("ab196eaa",n,!0)},624:function(t,e,a){var n=a(621);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(567)("0417ee2e",n,!0)},625:function(t,e,a){var n=a(622);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(567)("812a4628",n,!0)},626:function(t,e,a){a(624);var n=a(54)(a(617),a(630),null,null);t.exports=n.exports},627:function(t,e,a){a(625);var n=a(54)(a(618),a(631),null,null);t.exports=n.exports},628:function(t,e,a){a(638);var n=a(54)(a(636),a(643),null,null);t.exports=n.exports},629:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"topo",staticClass:"topo"},[a("svg",{ref:"topo-svg",staticClass:"topo-svg"},[a("g",{ref:"topo-container",staticClass:"topo-container"},[t._l(t.data.nodes,function(e){return t.data.nodes?a("topo-node",{key:e.domId,attrs:{data:e,radius:t.radius,innerRadius:t.innerRadius,attachmentRadius:t.attachmentRadius,attachmentSummary:t.attachmentSummary,update:t.updateNode,scale:t.scale},on:{onNodeMove:t.onNodeMove,"!onEnterNode":function(e){t.onEnterNode(e)},"!onLeaveNode":function(e){t.onLeaveNode(e)},onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp}}):t._e()}),t._v(" "),t._l(t.data.links,function(e){return t.data.links?a("topo-link",{key:e.id,attrs:{data:e,change:e.change,showTextFlag:t.lineTextFlag,bezerFlag:t.bezerFlag,play:e.play,dragFlag:e.dragFlag,update:t.updateLink,radius:t.radius,scale:t.scale},on:{onLinkFinished:t.onLinkFinished}}):t._e()})],2)]),t._v(" "),a("transition",{attrs:{name:"fade"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.tooltip.show,expression:"tooltip.show"}],ref:"tooltip",staticClass:"tooltip",class:{show:t.tooltip.show},style:{left:t.tooltip.left+"px",top:t.tooltip.top+"px"}},[a("i",{staticClass:"icon ion-android-arrow-down theme-font-color-primary",staticStyle:{"font-size":"20px"}}),t._v("点击下钻\n        ")])]),t._v(" "),a("div",{ref:"slider",staticClass:"slider"},[a("div",{ref:"slider-thumb",staticClass:"slider-thumb",on:{mousedown:t.onSliderDown}})]),t._v(" "),a("div",{ref:"toolbar",staticClass:"toolbar"},[t.fullbtnDisplay?a("img",{ref:"fullscreen",staticClass:"fullscreen",attrs:{src:"/static/images/maximize_gray.svg"},on:{click:t.fullScreen}}):t._e(),t._v(" "),a("img",{ref:"restore",staticClass:"restore",attrs:{src:"/static/images/minimize_gray.svg"},on:{click:t.restore}})]),t._v(" "),a("el-dialog",{attrs:{width:"60%",title:"节点详情","modal-append-to-body":t.modal,visible:t.nodeDetailVisible},on:{"update:visible":function(e){t.nodeDetailVisible=e}}},[a("el-table",{staticClass:"list-table",staticStyle:{width:"100%"},attrs:{data:t.tierList,"max-height":"400","default-sort":{prop:"elapsedTime",order:"descending"}}},[a("el-table-column",{attrs:{prop:"tiersName",label:"调用者Tier"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"远程调用",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"elapsedTime",label:"平均响应时间(ms)",sortable:""}})],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.closeDialog}},[t._v("确定")])],1)],1)],1)},staticRenderFns:[]}},630:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("g",{ref:"g",staticClass:"link",class:t.data.id})},staticRenderFns:[]}},631:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("g",{ref:"g",staticClass:"node",class:t.data.domId,on:{mouseenter:t.onEnterNode,mouseleave:t.onLeaveNode}})},staticRenderFns:[]}},632:function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},633:function(t,e,a){var n=a(55),o=a(66),i=a(612);t.exports=function(t,e){if(n(t),o(e)&&e.constructor===t)return e;var a=i.f(t);return(0,a.resolve)(e),a.promise}},634:function(t,e,a){var n=a(55),o=a(203),i=a(25)("species");t.exports=function(t,e){var a,r=n(t).constructor;return void 0===r||void 0==(a=n(r)[i])?e:o(a)}},635:function(t,e,a){var n,o,i,r=a(141),s=a(665),l=a(206),c=a(142),d=a(36),h=d.process,u=d.setImmediate,p=d.clearImmediate,f=d.MessageChannel,g=d.Dispatch,m=0,v={},b=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},x=function(t){b.call(t.data)};u&&p||(u=function(t){for(var e=[],a=1;arguments.length>a;)e.push(arguments[a++]);return v[++m]=function(){s("function"==typeof t?t:Function(t),e)},n(m),m},p=function(t){delete v[t]},"process"==a(92)(h)?n=function(t){h.nextTick(r(b,t,1))}:g&&g.now?n=function(t){g.now(r(b,t,1))}:f?(o=new f,i=o.port2,o.port1.onmessage=x,n=r(i.postMessage,i,1)):d.addEventListener&&"function"==typeof postMessage&&!d.importScripts?(n=function(t){d.postMessage(t+"","*")},d.addEventListener("message",x,!1)):n="onreadystatechange"in c("script")?function(t){l.appendChild(c("script")).onreadystatechange=function(){l.removeChild(this),b.call(t)}}:function(t){setTimeout(r(b,t,1),0)}),t.exports={set:u,clear:p}},636:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(35);e.default={components:{"el-tree":n.Tree},props:{datas:{type:Array,required:!0}},watch:{datas:{deep:!0,handler:function(t){this.formatData(t)}}},data:function(){return{processedData:[]}},mounted:function(){},methods:{toLinearData:function(t){var e=t||[],a=[],n=[];return function t(e){e.map(function(e){a.push(e.value),n.push(e.agentName),t(e.child)})}(e),e.timeArr=a,e.nameArr=n,e},keyRename:function(t){var e=t||[];return function t(e){e.map(function(e){e.label=e.name,e.children=e.child,t(e.child)})}(e),e},formatData:function(t){var e=this,a=[];t.map(function(t,n){var o=e.keyRename([t]),i=e.toLinearData([t]);a.push({trees:o,values:i.timeArr,names:i.nameArr})}),this.processedData=a}}}},637:function(t,e,a){e=t.exports=a(566)(),e.push([t.i,'.table-tree{max-height:350px;overflow-y:auto}.table-tree th{border:1px solid #dfe9ec;background:#eef3f6;height:40px;padding:0 18px}.table-tree td{padding:20px;border:1px solid #dfe9ec}.table-tree li{line-height:36px;height:36px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.table-tree .el-tree{border:none}.table-tree .el-tree-node__content{cursor:inherit}.table-tree .el-tree-node__content:hover{background:none}.table-tree .el-tree-node__label{max-width:700px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.table-tree .el-tree-node__label:before{content:" ";float:left;margin-top:14px;margin-right:5px;width:0;height:0;border-left:6px solid transparent;border-right:6px solid transparent;border-top:10px solid #97a8be}.table-tree .el-tree-node__expand-icon{display:none}',""])},638:function(t,e,a){var n=a(637);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(567)("48293184",n,!0)},639:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAAsSAAALEgHS3X78AAAA8klEQVQ4y+XTrUtEURCG8d9em9koggajVS2KJv0LDB7k3CSCxbhBMBs1Ct4TbtpiFIOYFBZMNpPVZBD8iAYvsiz74ept+9QZHoZ3Zhg7Gv0KRSpX0MQyJnCH4zyG65GFRSp3cF6JurlAzGN4/ZWwSOU0HjE5YJA21vMY3rsLWY/m7SEyWESrSOVekcqFvhMWqZxHqnIbhXvs5zG0G5VoCqfYMmBRQ/jEaqPK7BYzfxR1cpPhpCYZLGXYrEkGLxmeahS2MhzVJHvAYZbH0MIuPv4hu8RaHsPbz4kUqZzFATYwp/fbdfLs+zrO8hiuaoxt7PkCE604F3HWQ7IAAAAASUVORK5CYII="},640:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAAsSAAALEgHS3X78AAACU0lEQVQ4y6WV3W/SUBiHn7KuJdCOQqEYt0TdZjRuzrjMeWVc9qfqhf+FxiwxMUSzjzCV4cXitqSUAm2B0QIeL1DKdmEG+12enDzvOe9zPiQhxDbwGUAIQafToe42qNddPM/H9wMuLy+JooiEJKEmk+i6RtYwsKw8lmWhaWkkSQI4loQQAqB8/I2jwzK9MGTaJJNJdnZecadokQD4/uOEUunrTDCAXq9HqfQFYAQsl49nAk2m2WzFwG63e2tgIpGIgaZp3hqoaekY+GJrE1mWbwV8cP8eAGPLQdBm/+CIhtvA8zx+j4b/G0mSMIwMi4t32Xz+jEQiMQI6Tp1CIT+eOBwOcd0GrZZHEASEYUTUj5CQUFQFTdPIGhksq4CiKFeLCCHEm7fvWF1dpmhZmGYOw8jceKvNZgu75nBxfsHu7mtkAF3XqFSqVCpVAGRZxsxlyRgZFnQdVVWZV+ZBCMIoot3u0Gy2cByHMIyuWJYBNjbW2dv7NK46GAywaw52zbnxSnO5bAxcWX6AhMT+wSG+H0xteEHXebm9FfdQCPHvcjMYDHDdBnXXHUnxJ6RIEoryV0rWoGgVKFgF5iePnBBCvP/wUVROqsLzfTFLPN8X1epPIYQQMsDZ2Tmnp79iIWaOvGliGBkWFq5JCSPa7TbNlodt13CcOv1+H1mWWVlZHvUwlUoRBO1YiF3DtmtT9TGdTo1sA6ytPZlaxPUsLS3Glh8/eshwOJj5gc3nTTaerseWJwTR6XRw6i6u25j4ArpEUZ+5uTlUVUXT0uMvoFgsjl8agD9wKVpt92FQ5QAAAABJRU5ErkJggg=="},641:function(t,e,a){a(652);var n=a(54)(a(645),a(656),null,null);t.exports=n.exports},642:function(t,e,a){a(651);var n=a(54)(a(646),a(655),null,null);t.exports=n.exports},643:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table-tree"},[a("table",{staticClass:"mt20",attrs:{width:"100%"}},[t._m(0),t._v(" "),a("tbody",t._l(t.processedData,function(e,n){return a("tr",{key:n},[a("td",[a("el-tree",{attrs:{data:e.trees,"default-expand-all":!0,"expand-on-click-node":!1}})],1),t._v(" "),a("td",[a("ul",t._l(e.values,function(e,n){return a("li",{key:n},[t._v(t._s(e))])}))]),t._v(" "),a("td",[a("ul",t._l(e.names,function(e,n){return a("li",{key:n},[t._v(t._s(e))])}))])])}))])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{width:"50%"}},[t._v("方法名")]),t._v(" "),a("th",{attrs:{width:"25%"}},[t._v("执行时间(ms)")]),t._v(" "),a("th",{attrs:{width:"25%"}},[t._v("实例名")])])])}]}},644:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){this.root=null,this.data={},this.nodes=null,this.links=null,this.col=0,this.row=0,this.hspace=250,this.vspace=50,this.type="",this.cell={width:100,height:100},this.offsetWidth=0,this.offsetHeight=0,this.rootWidth=0,this.rootHeight=0,this.map={}};n.prototype.init=function(){this.row=0,this.col=0,this.hspace=250,this.vspace=50,this.type="",this.cell={width:100,height:100},this.offsetWidth=0,this.offsetHeight=0,this.rootWidth=this.root.offsetWidth,this.rootHeight=this.root.offsetHeight},n.prototype.layout=function(t,e,a){t&&(this.root=t,this.data=e,this.nodes=e.nodes,this.links=e.links,this.type=a||"grid",this.init(),this.parseNodes(),this.adjust(),this.calNodesLocation(),this.calScale())},n.prototype.parseNodes=function(){if(this.root&&this.nodes){for(var t={},e=0;e<this.nodes.length;e++){var a=this.nodes[e];t[a.group]||(this.col++,t[a.group]=0),t[a.group]=t[a.group]+1,this.row<t[a.group]&&(this.row=t[a.group])}this.map=t}},n.prototype.calNodesLocation=function(){if(this.root&&this.nodes)for(var t=0;t<this.nodes.length;t++){var e=this.nodes[t],a=this.getGrid(e);e.x=a[0]*(this.hspace+this.cell.width),e.y=a[1]*(this.vspace+this.cell.height)+(e.innerRadius?e.innerRadius:0)}},n.prototype.calScale=function(){for(var t=1;;){var e=this.rootWidth-(this.col*this.cell.width+(this.col-1)*this.hspace)*t,a=this.rootHeight-(this.row*this.cell.height+(this.row-1)*this.vspace)*t;if(e>=0&&a>=0)break;t=.87;break}this.data.scale=t},n.prototype.adjust=function(){this.offsetWidth=this.rootWidth-this.col*this.cell.width-(this.col-1)*this.hspace,this.offsetHeight=this.rootHeight-this.row*this.cell.height-(this.row-1)*this.vspace,this.offsetWidth=this.offsetWidth<0?0:this.offsetWidth/3,this.offsetHeight=this.offsetHeight<0?0:this.offsetHeight/2,this.data.offsetLeft=this.offsetWidth,this.data.offsetTop=this.offsetHeight},n.prototype.getGrid=function(t){return[parseInt(t.domId.substr(5,2)),parseInt(t.domId.substr(8,2))]},e.default=n},645:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"RangeProgress",props:{offset:{type:Number,default:0},textClass:{type:String,default:""},items:{type:Array,default:function(){return[]}},percentage:{type:Number,default:0,required:!1},status:{type:String},strokeWidth:{type:Number,default:6},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0}},computed:{paddingTop:function(){var t=!1;return this.items.forEach(function(e){t=t||e.text&&e.text.length>0}),t},barStyle:function(){return this.getBarStyle()},textStyle:function(t){return this.getTextStyle()},relativeStrokeWidth:function(){return(this.strokeWidth/this.width*100).toFixed(1)},stroke:function(){var t;switch(this.status){case"success":t="#13ce66";break;case"exception":t="#ff4949";break;default:t="#20a0ff"}return t},iconClass:function(){return"success"===this.status?"el-icon-circle-check":"el-icon-circle-cross"}},methods:{getBarStyle:function(t){var e={};return e.position="absolute",t?(e.left=t.offset+"%",e.width=t.percentage+"%",e.backgroundColor=this.getStroke(t)):(e.left=this.offset+"%",e.width=this.percentage+"%"),e},getTextStyle:function(t){var e={};return e.left=t?t.offset+"%":this.offset+"%",e},getStroke:function(t){var e;switch(t?t.status:this.status){case"success":e="#29ca8e";break;case"exception":e="#5b97fb";break;default:e="#20a0ff"}return e}}}},646:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=a(204),i=n(o),r=a(654),s=n(r);e.default={name:"tree-table",components:{"base-table":s.default},data:function(){return{rowId:1,hoverRowIndex:-1,localNodes:[],width:0,nodesWidth:0,columnsWidth:0}},props:{striped:Boolean,bordered:Boolean,expandAll:{type:Boolean,default:!0},treeNodeColumnWidth:{default:200},nodes:{type:Array,default:function(){return[{id:1,c1:"根节点1根节点1根节点1根节点1根节点1",c2:"root1",children:[{id:3,c1:"子节点1",c2:"child-1",children:[{id:3,c1:"子节点1",c2:"child-1"}]}]},{id:2,c1:"根节点2",c2:"root2"}]}},columns:{type:Array,default:function(){return[{text:"树节点",value:"id"},{text:"列1",value:"c1",isTreeNode:!0},{text:"列2",value:"c2"}]}}},mounted:function(){},watch:{nodes:function(){var t=this,e=[],a=JSON.parse((0,i.default)(this.nodes));a&&a.length>0&&a.forEach(function(a){e=e.concat(t.plaintNode(a))}),this.localNodes=e}},methods:{plaintNode:function(t){var e=this,a=[];t.__id=this.rowId++,t.__level=t.__level||1,t.__expand=this.expandAll,t.__show=!!this.expandAll||1===t.__level;var n=t.children||[];return t.children&&t.children.length>0?(t.__isleaf=!1,delete t.children):t.__isleaf=!0,a.push(t),n.forEach(function(n){n.__level=t.__level+1,n.__expand=e.expandAll,n.__parent=t,n.__show=e.expandAll,a=a.concat(e.plaintNode(n))},this),a},toggleNode:function(t){var e=this,a=t.__expand=!t.__expand,n=a;e.localNodes.forEach(function(o){o.__id===t.__id&&(o.__expand=a,o.__show=!0),o.__parent&&o.__parent.__id===t.__id&&e.nodeChildrenVisible(o,n)}),e.localNodes=[].concat(e.localNodes)},nodeChildrenVisible:function(t,e){var a=this,n=t.__expand;a.localNodes.forEach(function(o,i){o.__id===t.__id?(o.__expand=n,o.__show=e):o.__parent&&o.__parent.__id===t.__id&&n&&a.nodeChildrenVisible(o,e)})},onHowerRowIn:function(t,e){this.hoverRowIndex=e},onHowerRowOut:function(t,e){this.hoverRowIndex=-1}}}},647:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"aux-table",props:{striped:Boolean,bordered:Boolean},mounted:function(){}}},648:function(t,e,a){e=t.exports=a(566)(),e.push([t.i,'.tree-table-wrapper{width:100%;position:relative}.tree-table-wrapper:after,.tree-table-wrapper:before{content:"";display:block;clear:both}.tree-table-wrapper .tree-table-nodes{float:left;width:200px;overflow:auto}.tree-table-wrapper .tree-table-nodes .au-bordered{border-right:0}.tree-table-wrapper .tree-table-nodes:after,.tree-table-wrapper .tree-table-nodes:before{content:"";display:block;clear:both}.tree-table-wrapper .tree-table-columns{position:absolute;left:200px;right:0}.tree-table-wrapper .tree-table-columns:after,.tree-table-wrapper .tree-table-columns:before{content:"";display:block;clear:both}.tree-table-wrapper .tree-table-hover-row{cursor:pointer;background-color:#eef1f6}.tree-table-wrapper .icon-arrow,.tree-table-wrapper icon-leaf{margin-right:0;display:inline-block;width:12px;height:12px;line-height:12px;vertical-align:middle}.tree-table-wrapper .icon-leaf:before{content:""}',""])},649:function(t,e,a){e=t.exports=a(566)(),e.push([t.i,".progress{position:relative;display:inline-block;width:100%}.progress .progress__text{position:absolute;font-size:10px;margin-left:-15px}.progress .progress-bar{padding:15px 0 0}.progress .progress-bar--nopadding{padding:0}.progress .progress-bar__outer{background-color:#e6ebf5;line-height:10px;height:10px;border-radius:0}.progress .progress-bar__inner{background-color:#409eff;line-height:10px;height:10px;border-radius:0}",""])},650:function(t,e,a){e=t.exports=a(566)(),e.push([t.i,".aux-table{width:100%}.aux-table>tr:not(:last-child),.aux-table tbody>tr,.aux-table tfoot>tr:not(:last-child),.aux-table thead>tr{background-color:#fff;border-bottom-width:1px;border-bottom-style:solid;border-color:#dfe6ec}.aux-table>tr:not(:last-child).hover-row,.aux-table>tr:not(:last-child) th,.aux-table tbody>tr.hover-row,.aux-table tbody>tr th,.aux-table tfoot>tr:not(:last-child).hover-row,.aux-table tfoot>tr:not(:last-child) th,.aux-table thead>tr.hover-row,.aux-table thead>tr th{background-color:#eef1f6}.aux-table td,.aux-table th{white-space:nowrap;vertical-align:middle;padding:3px;line-height:14px;height:24px;text-align:left;color:#000}.aux-table th{padding:10px}.aux-table td,.aux-table th{font-size:12px}.aux-table tfoot td:only-child{font-size:12px;text-align:right}.aux-striped tbody>tr:nth-child(2n){background-color:#fafafa}.aux-bordered{border:1px solid #dfe6ec}.aux-bordered td:not(:last-child),.aux-bordered th:not(:last-child){border-right-width:0;border-color:#dfe6ec;border-right-style:solid}.aux-bordered tbody>tr:last-child,.aux-bordered thead>tr:last-child{border-bottom-width:1px;border-bottom-style:solid}",""])},651:function(t,e,a){var n=a(648);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(567)("6b93d348",n,!0)},652:function(t,e,a){var n=a(649);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(567)("9ad97d10",n,!0)},653:function(t,e,a){var n=a(650);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(567)("7a8f0df3",n,!0)},654:function(t,e,a){a(653);var n=a(54)(a(647),a(657),null,null);t.exports=n.exports},655:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"tree-table-wrapper",staticClass:"tree-table-wrapper"},[a("div",{staticClass:"tree-table-nodes",style:{width:t.treeNodeColumnWidth.indexOf("%")>-1?t.treeNodeColumnWidth:t.treeNodeColumnWidth+2+"px"}},[a("base-table",{ref:"treeTableNodes",attrs:{bordered:!0,striped:!0}},[a("thead",[a("tr",t._l(t.columns,function(e,n){return e.isTreeNode?a("th",{key:n},[t._v("\n            "+t._s(e.text)+"\n          ")]):t._e()}))]),t._v(" "),a("tbody",t._l(t.localNodes,function(e,n){return e.__show?a("tr",{key:n,class:{"tree-table-hover-row":t.hoverRowIndex===n},on:{mouseover:function(a){t.onHowerRowIn(e,n)},mouseout:function(a){t.onHowerRowOut(e,n)},click:function(a){t.toggleNode(e)}}},t._l(t.columns,function(n,o){return n.isTreeNode?a("td",{key:o,style:{paddingLeft:10*e.__level+"px"}},[a("a",{attrs:{href:"javascript:void(0)"}},[a("i",{staticClass:"theme-font-icon-color-weak icon-arrow",class:{"ion-arrow-right-b":!e.__expand,"ion-arrow-down-b":e.__expand,"icon-leaf":e.__isleaf}}),t._v(t._s(e[n.value])+"\n          ")])]):t._e()})):t._e()}))])],1),t._v(" "),a("div",{staticClass:"tree-table-columns",style:{left:t.treeNodeColumnWidth.indexOf("%")>-1?t.treeNodeColumnWidth:t.treeNodeColumnWidth+"px"}},[a("base-table",{ref:"treeTableColumns",attrs:{bordered:!0,striped:!0}},[a("thead",[a("tr",t._l(t.columns,function(e,n){return e.isTreeNode?t._e():a("th",{key:n},[t._v("\n            "+t._s(e.text)+"\n          ")])}))]),t._v(" "),a("tbody",t._l(t.localNodes,function(e,n){return e.__show?a("tr",{key:n,class:{"tree-table-hover-row":t.hoverRowIndex===n},on:{mouseover:function(a){t.onHowerRowIn(e,n)},mouseout:function(a){t.onHowerRowOut(e,n)},click:function(a){t.toggleNode(e)}}},[void 0===t.$scopedSlots.columns?t._l(t.columns,function(n,o){return n.isTreeNode?t._e():a("td",{key:o},[t._v("\n              "+t._s(e[n.value])+"\n            ")])}):t._t("columns",null,{row:{value:e}})],2):t._e()}))])],1)])},staticRenderFns:[]}},656:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.items&&t.items.length>0?a("div",{staticClass:"progress"},[t._l(t.items,function(e,n){return e.text?a("div",{key:n,staticClass:"progress__text",style:t.getTextStyle(e)},[t._v("\n      "+t._s(e.text)+"\n    ")]):t._e()}),t._v(" "),a("div",{staticClass:"progress-bar",class:{"progress-bar--nopadding":!t.paddingTop}},[a("div",{staticClass:"progress-bar__outer"},t._l(t.items,function(e,n){return a("div",{key:n,staticClass:"progress-bar__inner",style:t.getBarStyle(e)})}))])],2):a("div",{staticClass:"progress"},[a("div",{staticClass:"progress__text",style:t.textStyle},[t._t("default")],2),t._v(" "),a("div",{staticClass:"progress-bar"},[a("div",{staticClass:"progress-bar__outer"},[a("div",{staticClass:"progress-bar__inner",style:t.barStyle})])])])},staticRenderFns:[]}},657:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("table",{ref:"table",staticClass:"\n  aux-table",class:{"aux-bordered":t.bordered}},[t._t("default")],2)},staticRenderFns:[]}},658:function(t,e,a){a(675);var n=a(54)(a(660),a(678),"data-v-9e92d55c",null);t.exports=n.exports},660:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=a(91),i=n(o),r=a(608),s=n(r),l=a(610),c=n(l);e.default={name:"chart-stacked-bar",mixins:[s.default],components:{chartContainer:c.default},data:function(){return{chart:null,localOptions:{title:{text:this.title},grid:{left:"5%",right:"5%",bottom:20,top:40},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c}%",confine:!0},legend:{bottom:0,data:[]},calculable:!0,xAxis:[{type:"value"}],yAxis:[{type:"category",data:[]}],series:[]},legends:[],selectedLegends:{}}},props:{title:String,height:{required:!1,default:200},showHeader:{required:!1,default:!0},showBorder:{required:!1,default:!0},yAxisCategoryText:{required:!0,default:"耗时"},stackText:{required:!1,default:"time"},data:{type:Array,required:!0},loading:!1,options:Object,isAutoHeight:!1},watch:{data:{deep:!0,handler:function(t){this.renderChart()}},loading:function(t){t?this.chart.showLoading({color:"#cccccc",text:" "}):this.chart.hideLoading()}},mounted:function(){var t=this;t.chart=echarts.init(t.$refs.chart),t.renderChart(),t.chart.on("legendselectchanged",function(e){t.selectedLegends=e.selected})},methods:{renderChart:function(){var t=this;if(console.log(this),this.localOptions.series=[],this.localOptions.legend.data=[],this.legends=[],this.selectedLegends={},!_.isEmpty(this.data)){this.localOptions.yAxis[0].data=[this.yAxisCategoryText];var e=0;this.data.forEach(function(a){e+=a.name.length,t.localOptions.series.push({name:a.name,type:"bar",stack:t.stackText,itemStyle:{normal:{label:{show:!1,position:"insideRight"}}},data:[a.value]}),t.localOptions.legend.data.push(a.name)}),this.localOptions.legend.show=!1,this.localOptions.legend.formatter=e>200?function(t){return echarts.format.truncateText(t,80,"12px Microsoft Yahei","…")}:null,this.localOptions.legend.tooltip={show:e>200},this.localOptions.legend.top="bottom",this.chart.setOption((0,i.default)({color:this.chartColors},this.localOptions,this.options),!0);var a=this.chart.getOption(),n=a.color;this.legends=a.series.map(function(e,a){return t.selectedLegends[e.name]=!0,{color:n[a],name:e.name}}),this.$nextTick(function(){t.chart.resize()})}},selectLegend:function(t,e){this.chart.dispatchAction({type:"legendToggleSelect",name:t.name})}}}},661:function(t,e,a){t.exports={default:a(662),__esModule:!0}},662:function(t,e,a){a(210),a(95),a(145),a(669),a(670),a(671),t.exports=a(24).Promise},663:function(t,e){t.exports=function(t,e,a,n){if(!(t instanceof e)||void 0!==n&&n in t)throw TypeError(a+": incorrect invocation!");return t}},664:function(t,e,a){var n=a(141),o=a(208),i=a(207),r=a(55),s=a(143),l=a(144),c={},d={},e=t.exports=function(t,e,a,h,u){var p,f,g,m,v=u?function(){return t}:l(t),b=n(a,h,e?2:1),x=0;if("function"!=typeof v)throw TypeError(t+" is not iterable!");if(i(v)){for(p=s(t.length);p>x;x++)if((m=e?b(r(f=t[x])[0],f[1]):b(t[x]))===c||m===d)return m}else for(g=v.call(t);!(f=g.next()).done;)if((m=o(g,b,f.value,e))===c||m===d)return m};e.BREAK=c,e.RETURN=d},665:function(t,e){t.exports=function(t,e,a){var n=void 0===a;switch(e.length){case 0:return n?t():t.call(a);case 1:return n?t(e[0]):t.call(a,e[0]);case 2:return n?t(e[0],e[1]):t.call(a,e[0],e[1]);case 3:return n?t(e[0],e[1],e[2]):t.call(a,e[0],e[1],e[2]);case 4:return n?t(e[0],e[1],e[2],e[3]):t.call(a,e[0],e[1],e[2],e[3])}return t.apply(a,e)}},666:function(t,e,a){var n=a(36),o=a(635).set,i=n.MutationObserver||n.WebKitMutationObserver,r=n.process,s=n.Promise,l="process"==a(92)(r);t.exports=function(){var t,e,a,c=function(){var n,o;for(l&&(n=r.domain)&&n.exit();t;){o=t.fn,t=t.next;try{o()}catch(n){throw t?a():e=void 0,n}}e=void 0,n&&n.enter()};if(l)a=function(){r.nextTick(c)};else if(!i||n.navigator&&n.navigator.standalone)if(s&&s.resolve){var d=s.resolve();a=function(){d.then(c)}}else a=function(){o.call(n,c)};else{var h=!0,u=document.createTextNode("");new i(c).observe(u,{characterData:!0}),a=function(){u.data=h=!h}}return function(n){var o={fn:n,next:void 0};e&&(e.next=o),t||(t=o,a()),e=o}}},667:function(t,e,a){var n=a(57);t.exports=function(t,e,a){for(var o in e)a&&t[o]?t[o]=e[o]:n(t,o,e[o]);return t}},668:function(t,e,a){"use strict";var n=a(36),o=a(24),i=a(39),r=a(56),s=a(25)("species");t.exports=function(t){var e="function"==typeof o[t]?o[t]:n[t];r&&e&&!e[s]&&i.f(e,s,{configurable:!0,get:function(){return this}})}},669:function(t,e,a){"use strict";var n,o,i,r,s=a(93),l=a(36),c=a(141),d=a(205),h=a(65),u=a(66),p=a(203),f=a(663),g=a(664),m=a(634),v=a(635).set,b=a(666)(),x=a(612),w=a(632),_=a(633),y=l.TypeError,T=l.process,C=l.Promise,A="process"==d(T),k=function(){},S=o=x.f,$=!!function(){try{var t=C.resolve(1),e=(t.constructor={})[a(25)("species")]=function(t){t(k,k)};return(A||"function"==typeof PromiseRejectionEvent)&&t.then(k)instanceof e}catch(t){}}(),E=function(t){var e;return!(!u(t)||"function"!=typeof(e=t.then))&&e},M=function(t,e){if(!t._n){t._n=!0;var a=t._c;b(function(){for(var n=t._v,o=1==t._s,i=0;a.length>i;)!function(e){var a,i,r=o?e.ok:e.fail,s=e.resolve,l=e.reject,c=e.domain;try{r?(o||(2==t._h&&P(t),t._h=1),!0===r?a=n:(c&&c.enter(),a=r(n),c&&c.exit()),a===e.promise?l(y("Promise-chain cycle")):(i=E(a))?i.call(a,s,l):s(a)):l(n)}catch(t){l(t)}}(a[i++]);t._c=[],t._n=!1,e&&!t._h&&L(t)})}},L=function(t){v.call(l,function(){var e,a,n,o=t._v,i=R(t);if(i&&(e=w(function(){A?T.emit("unhandledRejection",o,t):(a=l.onunhandledrejection)?a({promise:t,reason:o}):(n=l.console)&&n.error&&n.error("Unhandled promise rejection",o)}),t._h=A||R(t)?2:1),t._a=void 0,i&&e.e)throw e.v})},R=function(t){return 1!==t._h&&0===(t._a||t._c).length},P=function(t){v.call(l,function(){var e;A?T.emit("rejectionHandled",t):(e=l.onrejectionhandled)&&e({promise:t,reason:t._v})})},N=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),M(e,!0))},I=function(t){var e,a=this;if(!a._d){a._d=!0,a=a._w||a;try{if(a===t)throw y("Promise can't be resolved itself");(e=E(t))?b(function(){var n={_w:a,_d:!1};try{e.call(t,c(I,n,1),c(N,n,1))}catch(t){N.call(n,t)}}):(a._v=t,a._s=1,M(a,!1))}catch(t){N.call({_w:a,_d:!1},t)}}};$||(C=function(t){f(this,C,"Promise","_h"),p(t),n.call(this);try{t(c(I,this,1),c(N,this,1))}catch(t){N.call(this,t)}},n=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},n.prototype=a(667)(C.prototype,{then:function(t,e){var a=S(m(this,C));return a.ok="function"!=typeof t||t,a.fail="function"==typeof e&&e,a.domain=A?T.domain:void 0,this._c.push(a),this._a&&this._a.push(a),this._s&&M(this,!1),a.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new n;this.promise=t,this.resolve=c(I,t,1),this.reject=c(N,t,1)},x.f=S=function(t){return t===C||t===r?new i(t):o(t)}),h(h.G+h.W+h.F*!$,{Promise:C}),a(94)(C,"Promise"),a(668)("Promise"),r=a(24).Promise,h(h.S+h.F*!$,"Promise",{reject:function(t){var e=S(this);return(0,e.reject)(t),e.promise}}),h(h.S+h.F*(s||!$),"Promise",{resolve:function(t){return _(s&&this===r?C:this,t)}}),h(h.S+h.F*!($&&a(209)(function(t){C.all(t).catch(k)})),"Promise",{all:function(t){var e=this,a=S(e),n=a.resolve,o=a.reject,i=w(function(){var a=[],i=0,r=1;g(t,!1,function(t){var s=i++,l=!1;a.push(void 0),r++,e.resolve(t).then(function(t){l||(l=!0,a[s]=t,--r||n(a))},o)}),--r||n(a)});return i.e&&o(i.v),a.promise},race:function(t){var e=this,a=S(e),n=a.reject,o=w(function(){g(t,!1,function(t){e.resolve(t).then(a.resolve,n)})});return o.e&&n(o.v),a.promise}})},670:function(t,e,a){"use strict";var n=a(65),o=a(24),i=a(36),r=a(634),s=a(633);n(n.P+n.R,"Promise",{finally:function(t){var e=r(this,o.Promise||i.Promise),a="function"==typeof t;return this.then(a?function(a){return s(e,t()).then(function(){return a})}:t,a?function(a){return s(e,t()).then(function(){throw a})}:t)}})},671:function(t,e,a){"use strict";var n=a(65),o=a(612),i=a(632);n(n.S,"Promise",{try:function(t){var e=o.f(this),a=i(t);return(a.e?e.reject:e.resolve)(a.v),e.promise}})},673:function(t,e,a){e=t.exports=a(566)(),e.push([t.i,".chart[data-v-9e92d55c]{width:100%;height:100%}.chart-legends[data-v-9e92d55c]{text-align:center}.chart-legends li[data-v-9e92d55c]{display:inline-block;padding-left:5px;padding-bottom:5px;position:relative;cursor:pointer}.chart-legends li i[data-v-9e92d55c]{float:left;width:20px;line-height:16px;height:16px;border-radius:5px}.chart-legends li i.selected[data-v-9e92d55c]{background-color:#ccc!important}.chart-legends li span[data-v-9e92d55c]{display:inline-block;margin-left:4px;line-height:18px}",""])},675:function(t,e,a){var n=a(673);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(567)("383ab79a",n,!0)},678:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"chart-stacked-bar"},[a("chart-container",{attrs:{height:t.height,"show-header":t.showHeader,"show-border":t.showBorder,title:t.title,isLoading:t.loading,"is-empty":!(t.data&&t.data.length),isAutoHeight:t.isAutoHeight}},[a("div",{ref:"chart",staticClass:"chart"})]),t._v(" "),a("ul",{staticClass:"chart-legends"},t._l(t.legends,function(e,n){return a("li",{key:n},[a("a",{attrs:{href:"javascript:void(0);"},on:{click:function(a){t.selectLegend(e,n)}}},[a("i",{class:{selected:!t.selectedLegends[e.name]},style:{backgroundColor:e.color}}),t._v(" "),a("span",[t._v(t._s(e.name))])])])}))],1)},staticRenderFns:[]}},682:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=a(606),i=n(o),r=a(607),s=n(r),l=a(35);e.default={mixins:[i.default,s.default],data:function(){return{databaseList:[]}},components:{"el-table":l.Table,"el-table-column":l.TableColumn},methods:{reload:function(){this.getDatabaseRemoteData()},getDatabaseRemoteData:function(){var t=this;t.loading=!0,t.api.getSingleComponentDataBaseList({data:{condition:t.options},success:function(e){0===e.code&&(t.databaseList=e.data)},complete:function(){t.loading=!1}})}}}},683:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=a(658),i=n(o),r=a(606),s=n(r),l=a(607),c=n(l),d=a(35);e.default={mixins:[s.default,c.default],data:function(){return{legentMaxLength:50,totalTime:0,detailData:[]}},computed:{chartData:function(){var t=this,e=[],a={name:"其他",value:0};return t.totalTime=0,t.detailData&&t.detailData.length>0&&(t.detailData.forEach(function(n,o){o<t.legentMaxLength?e.push({name:n.name,value:n.timeSpend}):a.value+=n.timeSpend,t.totalTime+=n.timeSpend}),a.value>0&&e.unshift(a),e=_.sortBy(e,["value"]).reverse(),e.forEach(function(e){e.value=t.totalTime>0?Math.floor(e.value/t.totalTime*1e4)/100:100})),e}},components:{"el-table":d.Table,"el-table-column":d.TableColumn,StackedBarChart:i.default},methods:{reload:function(){this.getComponentSnapshotDetail()},getComponentSnapshotDetail:function(){var t=this;t.loading=!0,t.api.getComponentSnapshotDetail({data:{condition:t.options},success:function(e){if(0===e.code){var a=e.data;a&&a.length>0&&(t.detailData=_.sortBy(a,["timeSpend"]).reverse())}},complete:function(){t.loading=!1}})}}}},684:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=a(606),i=n(o),r=a(607),s=n(r),l=a(35);e.default={mixins:[i.default,s.default],data:function(){return{errorList:[],selectedError:{}}},components:{"el-table":l.Table,"el-table-column":l.TableColumn},watch:{error:function(t,e){t!==e&&this.initCurrentError()},errorList:{deep:!0,handler:function(){this.initCurrentError()}}},props:{error:String},methods:{reload:function(){this.getErrorList()},getErrorList:function(){var t=this;t.loading=!0,t.api.getSingleComponentErrorList({data:{condition:t.options},success:function(e){0===e.code&&(t.errorList=e.data||[])},complete:function(){t.loading=!1}})},initCurrentError:function(){var t=this;if(t.error&&t.errorList.length>0){var e=t.errorList.filter(function(e){return e.errorName===t.error});e.length>0&&(t.selectedError=e[0])}}}}},685:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=a(201),i=n(o),r=a(91),s=n(r),l=a(140),c=n(l),d=a(202),h=a(616),u=n(h),p=a(606),f=n(p),g=a(607),m=n(g),v=a(35);e.default={mixins:[f.default,m.default],data:function(){return{data:{basicInfo:{},requestParam:{},potentialIssue:{}},kvs:[["slowestModule","缓慢组件","single-component-stacktrace","SERVER"],["slowestSqlRequest","缓慢SQL请求","single-component-database","DATABASE"],["slowestRemoteInvocation","缓慢远程调用","single-component-remote","REMOTE"],["errorSummary","错误摘要","single-component-error-detail","ERROR"]]}},components:{"el-table":v.Table,"el-table-column":v.TableColumn,"table-tree":a(628),"el-button":v.Button,"el-row":v.Row,"el-col":v.Col,"el-tag":v.Tag,"el-progress":v.Progress,Topo:u.default},computed:{localPotentialIssue:function(){var t=[],e=this;return e.kvs.forEach(function(a){var n=e.data.potentialIssue[a[0]];n&&n.length>0&&n.forEach(function(n){var o=e.data.basicInfo.responseTime;n.elapsedTime&&(n.percentage=Math.floor(n.elapsedTime/o*100)),t.push((0,s.default)({},n,{text:a[1],type:a[3]}))})}),t},localRequestParam:function(){var t=this;return this.data.requestParam&&this.data.requestParam.params?(0,i.default)(this.data.requestParam.params).map(function(e){return{key:e,value:t.data.requestParam.params[e]}}):[]},localBasicInfo:function(){var t=this,e=[{key:"userExperience",value:"",label:"用户体验"},{key:"transaction",value:"",label:"事务名称"},{key:"responseTime",value:"",label:"响应时间"},{key:"occurTime",value:"",label:"发生时间"},{key:"instanceInfo",value:"",label:"实例名称"},{key:"tierName",value:"",label:"层"},{key:"transactionType",value:"",httpStatus:0,label:"事务类型"}];return t.data.basicInfo&&e.forEach(function(e){if(e.value=t.data.basicInfo[e.key],"transactionType"===e.key){var a=/^HTTP\(([0-9]+)\)/i.exec(t.data.basicInfo[e.key]);e.httpStatus=a?+a[1]:0}}),e}},mounted:function(){this.reload()},methods:{reload:function(){this.getComponentSnapshotOverview()},getComponentSnapshotOverview:function(){var t=this;t.loading=!0,t.api.getComponentSnapshotOverview({data:{condition:t.options},success:function(e){0===e.code&&(t.data=e.data,t.data.basicInfo.occurTime&&(t.data.basicInfo.occurTime=c.default.formatDate(t.data.basicInfo.occurTime)))},complete:function(){t.loading=!1}})},caculatePercentage:function(t){var e=this.data.basicInfo.responseTime;return Math.floor(t/e*100)},gotoComponentTab:function(t){var e=this.kvs.filter(function(e){return e[1]===t.text})[0][2];"single-component-error-detail"!==e?this.$emit("switch-tab",e,{}):this.$emit("switch-tab",e,{error:t.errorName})},convertApdex:function(t){return(0,d.apdexConverter)(t)},convertDanger:function(t){var e={};switch(t.type){case"SERVER":e.tag="缓慢组件",e.iconCls="icon-snapshot-server";break;case"DATABASE":e.tag="缓慢SQL请求",e.iconCls="icon-snapshot-database";break;case"ERROR":e.tag="错误摘要",e.iconCls="icon-snapshot-error";break;case"REMOTE":e.tag="缓慢远程调用",e.iconCls="icon-snapshot-component"}return e}}}},686:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=a(606),i=n(o),r=a(607),s=n(r),l=a(35);e.default={mixins:[i.default,s.default],data:function(){return{remoteCallbackList:[]}},components:{"el-table":l.Table,"el-table-column":l.TableColumn},methods:{reload:function(){this.getDatabaseRemoteData()},getDatabaseRemoteData:function(){var t=this;t.loading=!0,t.api.getSingleComponentRemoteList({data:{condition:t.options},success:function(e){0===e.code&&(t.remoteCallbackList=e.data)},complete:function(){t.loading=!1}})}}}},687:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=a(641),i=n(o),r=a(642),s=n(r),l=a(606),c=n(l),d=a(607),h=n(d),u=a(35);e.default={mixins:[c.default,h.default],data:function(){return{dataList:[],columns:[{text:"堆栈",value:"name",isTreeNode:!0},{text:"偏移量(ms)",value:"timeOffset"},{text:"耗时(ms)",value:"callTimeSpend"},{text:"耗时百分比",value:"callTimeSpend"},{text:"附加信息",value:"type"}]}},components:{"el-table":u.Table,"el-table-column":u.TableColumn,TreeTable:s.default,"range-progress":i.default},methods:{reload:function(){this.getTraceStackData()},getTraceStackData:function(){var t=this;t.loading=!0,t.api.getComponentSnapshotStacks({data:{condition:t.options},success:function(e){0===e.code&&(e.data&&e.data.length>0&&e.data.forEach(function(e){t.formatNode(e)}),t.dataList=e.data)},complete:function(){t.loading=!1}})},formatNode:function(t){var e=this,a=[],n=function(e){return t.totalTimeSpend?Math.round(e/t.totalTimeSpend*1e4)/100:0};a.push({offset:n(t.timeOffset),percentage:n(t.internalTimeSpend+t.callTimeSpend),status:"success",text:""}),t.children&&t.children.length>0?t.children.forEach(function(t){a.push({offset:n(t.timeOffset),percentage:n(t.internalTimeSpend+t.callTimeSpend),status:"exception",text:""}),e.formatNode(t)}):a.push({offset:n(t.timeOffset+t.internalTimeSpend),percentage:n(t.callTimeSpend),status:"exception",text:""}),t.progress=a}}}},688:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=a(606),i=n(o),r=a(607),s=n(r),l=a(35);e.default={mixins:[i.default,s.default],data:function(){return{databaseRemoteDataList:[]}},components:{"el-table":l.Table,"el-table-column":l.TableColumn},methods:{reload:function(){this.getDatabaseRemoteData()},getDatabaseRemoteData:function(){var t=this;t.loading=!0,t.api.getSingleTransDatabaseRemoteDataList({data:{condition:t.options},success:function(e){0===e.code&&(t.databaseRemoteDataList=e.data)},complete:function(){t.loading=!1}})}}}},689:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=a(606),i=n(o),r=a(607),s=n(r),l=a(35);e.default={mixins:[i.default,s.default],data:function(){return{errorList:[],selectedError:{}}},components:{"el-table":l.Table,"el-table-column":l.TableColumn},methods:{reload:function(){this.getErrorList()},getErrorList:function(){var t=this;t.loading=!0,t.api.getSingleTransErrorList({data:{condition:t.options},success:function(e){0===e.code&&(t.errorList=e.data||[])},complete:function(){t.loading=!1}})}}}},690:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=a(91),i=n(o),r=a(204),s=n(r),l=a(661),c=n(l),d=a(202),h=a(616),u=n(h),p=a(644),f=n(p),g=a(606),m=n(g),v=a(607),b=n(v),x=a(35);e.default={mixins:[b.default,m.default],data:function(){var t=this;return{fullScreen:!1,transInfo:{apdex:"",transName:"",responseTime:0,startTime:""},dangers:[],topo:{layout:"grid",update:0,data:{},fullbtnDisplay:!1,nodeTip:{show:!1,left:0,top:0},attachmentSummary:{show:!0,formatter:function(e){return t.nodeSummary(e)},position:"left"}},transGridData:[],dialogTransTableVisible:!1,apdexIconClass:"",apdexTitle:"",totalElapsedTime:0}},components:{"el-table":x.Table,"el-table-column":x.TableColumn,"table-tree":a(628),"el-button":x.Button,"el-tag":x.Tag,"el-progress":x.Progress,"el-dialog":x.Dialog,Topo:u.default},watch:{"transInfo.apdex":function(t){if(t){var e=this.convertApdex(t);this.apdexIconClass=e.apdexIconClass,this.apdexTitle=e.apdexTitle}}},mounted:function(){this.reload()},methods:{setFullScreen:function(){this.fullScreen=!0},onFullScreenChange:function(t){this.fullScreen=t},reload:function(){this.transInfo.transName=this.options.queryStr,this.init()},init:function(){var t=this;t.loading=!0,c.default.all([t.getSingleTransInfo(),t.getSingleTransDangers(),t.getTopoData()]).then(function(){t.formatDangerData(arguments[0][1].data),t.formatTopoData(arguments[0][2].data),t.loading=!1})},formatDangerData:function(t){var e=this;t&&t.length>0&&t.forEach(function(t){t.per=Math.floor(t.componentTime/e.transInfo.responseTime*1e4)/100}),e.dangers=t},formatTopoData:function(t){var e=this;t.links&&t.links.length>0&&(e.totalElapsedTime=e.transInfo.responseTime,t.links.forEach(function(t){var a=Math.floor(t.elapsedTime/e.totalElapsedTime*1e4)/100;t.label=t.elapsedTime+"ms,"+a+"%",t.source&&"USER"===t.source.type&&(t.label="")}),t.nodes.forEach(function(t){t.drillDown="SERVER"===t.type,"SERVER"===t.type&&(t.status=[{value:1,name:e.convertApdex(t.apdex).apdexStatus}])})),e.topo.data=JSON.parse((0,s.default)(t)),(new f.default).layout(e.$refs.topoContainer,e.topo.data),setTimeout(function(){e.topo.update++},50)},nodeSummary:function(t){var e=[];switch(t.type){case"USER":t.elapsedTime&&e.push(t.elapsedTime+" ms(100%)"),t.error&&e.push(t.error+" errors");break;case"SERVER":t.elapsedTime&&e.push(t.elapsedTime+" ms("+Math.floor(t.elapsedTime/this.totalElapsedTime*1e4)/100+"%)");var a=t.callCount;e.push(a+" calls"),t.error&&e.push(t.error+" errors")}return e},openTab:function(t){var e={name:t.requestId,type:"single-component-snapshot",options:t};this.$root.eventBus.openTab(e)},componentUrlFormatter:function(t){return(0,i.default)({},t,{trans:encodeURIComponent((0,s.default)({name:this.$route.name,query:this.$route.query}))})},getTopoData:function(){var t=this;return this.api.getSingleTransTopoList({data:{condition:t.options}})},getSingleTransInfo:function(){var t=this;return t.api.getSingleTransInfo({data:{condition:{traceId:t.options.traceId}},success:function(e){0===e.code&&(t.transInfo=e.data)}})},getSingleTransDangers:function(){var t=this;return t.api.getSingleTransDangers({data:{condition:{traceId:t.options.traceId}}})},onMouseUpNode:function(t,e){var a=this;if(!("SERVER"!==t.type||t.callCount<=0))return a.api.getSingleTransTopoNodeList({data:{condition:{traceId:a.options.traceId,tierId:t.id}},success:function(e){0===e.code&&e.data&&e.data.length>0&&e.data&&e.data.length>0&&(e.data.forEach(function(e){e.traceId=a.options.traceId,e.tierId=t.id,e.tierName=t.showName}),1===e.data.length?a.openTab(e.data[0]):(a.transGridData=e.data,a.dialogTransTableVisible=!0))}})},convertApdex:function(t){return(0,d.apdexConverter)(t)},convertDanger:function(t){var e={};switch(t.type){case"SERVER":e.tag="缓慢组件",e.iconCls="icon-snapshot-server";break;case"DATABASE":e.tag="缓慢SQL请求",e.iconCls="icon-snapshot-database";break;case"ERROR":e.tag="错误摘要",e.iconCls="icon-snapshot-error";break;case"REMOTE":e.tag="缓慢远程调用",e.iconCls="icon-snapshot-component"}return e}}}},691:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=a(140),i=n(o),r=a(641),s=n(r),l=a(642),c=n(l),d=a(606),h=n(d),u=a(607),p=n(u),f=a(35);e.default={mixins:[h.default,p.default],data:function(){return{fullConsumingTime:0,firstStartTime:0,dataList:[]}},components:{"el-table":f.Table,"el-table-column":f.TableColumn,"range-progress":s.default,TreeTable:c.default},methods:{reload:function(){this.getSingleTransRemoteWaterfall()},getSingleTransRemoteWaterfall:function(){var t=this;t.loading=!0,t.api.getSingleTransRemoteWaterfall({data:{condition:t.options},success:function(e){if(0===e.code){if(e.data&&e.data.length>0){var a=e.data[0].startTime;t.fullConsumingTime=e.data[0].elapsedTime,e.data.forEach(function(e){t.formatNode(e,a)})}t.dataList=t.plainNodes(e.data[0]),console.log(t.dataList)}},complete:function(){t.loading=!1}})},formatNode:function(t,e){var a=this,n=this,o=[],r=t.startTime;t.strStringTime=i.default.formatDate(t.startTime);var s=0;t.timeOffset=r-e;var l=function(t){return Math.round(t/n.fullConsumingTime*1e4)/100};t.children&&t.children.length>0?(t.children.forEach(function(t,n){a.formatNode(t,e),o.push({offset:l(r-e),percentage:l(t.startTime-r),status:"success",text:""}),s+=t.startTime-r,r=t.endTime}),s<t.transactionTime&&(o.push({offset:l(r-e),percentage:l(t.transactionTime-s),status:"success",text:""}),t.endTime=r+t.transactionTime-s)):(t.endTime=t.startTime+t.transactionTime,o.push({offset:l(r-e),percentage:l(t.transactionTime),status:"success",text:""})),t.progress=o},plainNodes:function(t){var e=this,a=[],n=[];return t.children&&t.children.length>0&&t.children.forEach(function(t){n=n.concat(e.plainNodes(t))}),a.children=[],a.push(t),a=a.concat(n)}}}},692:function(t,e,a){e=t.exports=a(566)(),e.push([t.i,".single-trans-error-detail .multiple[data-v-0cf30e7e]{border-bottom:1px solid #dcdcdc;display:flex}.single-trans-error-detail .multiple .l[data-v-0cf30e7e]{padding-top:15px;width:400px}.single-trans-error-detail .multiple .l .content[data-v-0cf30e7e]{width:100%;height:100%;padding-left:10px;padding-right:10px}.single-trans-error-detail .multiple .l .content ul[data-v-0cf30e7e]{list-style:none;padding:0}.single-trans-error-detail .multiple .l .content ul li[data-v-0cf30e7e]{font-size:14px;line-height:40px;margin-bottom:14px;padding-left:10px;border-radius:5px;display:block;background:#f7f7f7;color:#666}.single-trans-error-detail .multiple .l .content ul li.selected[data-v-0cf30e7e],.single-trans-error-detail .multiple .l .content ul li[data-v-0cf30e7e]:hover{background:#e9f1ff;cursor:pointer}.single-trans-error-detail .multiple .r[data-v-0cf30e7e]{flex:1;border-left:1px solid #dcdcdc;padding-top:15px}.single-trans-error-detail .multiple .r .content[data-v-0cf30e7e]{margin-bottom:0;position:relative;width:100%;height:100%;min-height:600px;line-height:22px}.error-empty[data-v-0cf30e7e]{width:100%;min-height:800px;margin-top:10px;display:inline-block;border:0 solid #e6ebf5;text-align:center;vertical-align:middle;line-height:100px}",""])},693:function(t,e,a){e=t.exports=a(566)(),e.push([t.i,".single-trans-error-detail .multiple[data-v-162c4cd4]{display:flex;border-bottom:1px solid #dcdcdc}.single-trans-error-detail .multiple .l[data-v-162c4cd4]{padding-top:15px;width:400px}.single-trans-error-detail .multiple .l .content[data-v-162c4cd4]{width:100%;height:100%;padding-left:10px;padding-right:10px}.single-trans-error-detail .multiple .l .content ul[data-v-162c4cd4]{list-style:none;padding:0}.single-trans-error-detail .multiple .l .content ul li[data-v-162c4cd4]{font-size:14px;line-height:40px;margin-bottom:14px;padding-left:10px;border-radius:5px;display:block;background:#f7f7f7;color:#666}.single-trans-error-detail .multiple .l .content ul li.selected[data-v-162c4cd4],.single-trans-error-detail .multiple .l .content ul li[data-v-162c4cd4]:hover{background:#e9f1ff;cursor:pointer}.single-trans-error-detail .multiple .r[data-v-162c4cd4]{flex:1;border-left:1px solid #dcdcdc;padding-top:15px}.single-trans-error-detail .multiple .r .content[data-v-162c4cd4]{margin-bottom:0;position:relative;width:100%;height:100%;min-height:600px;line-height:22px}.error-empty[data-v-162c4cd4]{width:100%;height:100px;margin-top:10px;display:inline-block;border:0 solid #e6ebf5;text-align:center;vertical-align:middle;line-height:100px}",""])},694:function(t,e,a){e=t.exports=a(566)(),e.push([t.i,".table-box[data-v-195fc1e4]{height:100%;overflow:auto;position:relative;padding:24px}",""])},695:function(t,e,a){e=t.exports=a(566)(),e.push([t.i,".single-trans-overview .content[data-v-2525a2c1]{margin-bottom:16px;border-bottom:1px solid #dcdcdc}.single-trans-overview .content[data-v-2525a2c1]:last-child{border-bottom-width:0}.single-trans-overview .multiple[data-v-2525a2c1]{display:flex;border-bottom:1px solid #dcdcdc}.single-trans-overview .multiple .l[data-v-2525a2c1]{padding-top:15px;width:400px}.single-trans-overview .multiple .r[data-v-2525a2c1]{flex:1;border-left:1px solid #dcdcdc;padding-top:15px}.single-trans-overview .multiple .r .content[data-v-2525a2c1]{margin-bottom:0;position:relative;width:100%;height:100%;min-height:600px}.single-trans-overview .trans-info li[data-v-2525a2c1]{font-size:14px;padding:2px;width:100%}.single-trans-overview .trans-info li>ul[data-v-2525a2c1]{display:table;width:100%}.single-trans-overview .trans-info li>ul li[data-v-2525a2c1]{display:table-cell;vertical-align:middle;word-break:break-all}.single-trans-overview .trans-info li>ul>li[data-v-2525a2c1]{width:30%}.single-trans-overview .trans-info li>ul>li+li[data-v-2525a2c1]{width:70%}.single-trans-overview .panel[data-v-2525a2c1]{margin-bottom:12px;background-color:#f7f7f7;border:none;border-radius:5px;padding:10px}.single-trans-overview .panel .title[data-v-2525a2c1]{padding-left:5px;font-size:14px;color:#333}.single-trans-overview .panel .time[data-v-2525a2c1]{color:#ff812e;font-size:14px}.single-trans-overview .panel .arrow[data-v-2525a2c1]{float:right;margin-top:3px;color:#333;opacity:0;transition:.25s}.single-trans-overview .panel .panel-item-name[data-v-2525a2c1]{display:inline-block;width:100%;font-size:14px;line-height:26px;white-space:nowrap;text-overflow:ellipsis;word-break:break-all;overflow:hidden}.single-trans-overview .panel[data-v-2525a2c1]:hover{cursor:pointer}.single-trans-overview .panel:hover .arrow[data-v-2525a2c1]{opacity:1}.single-trans-overview .el-dialog__wrapper[data-v-2525a2c1]{background-color:#f7f7f7}",""])},696:function(t,e,a){e=t.exports=a(566)(),e.push([t.i,".danger[data-v-28377c17]{color:red}.single-component-overview .content[data-v-28377c17]{margin-bottom:16px;border-bottom:1px solid #dcdcdc}.single-component-overview .content[data-v-28377c17]:last-child{border-bottom-width:0}.single-component-overview .multiple[data-v-28377c17]{display:flex;border-bottom:1px solid #dcdcdc}.single-component-overview .multiple .l[data-v-28377c17]{padding-top:15px;width:400px}.single-component-overview .multiple .r[data-v-28377c17]{flex:1;border-left:1px solid #dcdcdc;padding-top:15px}.single-component-overview .multiple .r .content[data-v-28377c17]{margin-bottom:0;position:relative;width:100%;height:100%}.single-component-overview .trans-info li[data-v-28377c17]{font-size:14px;padding:2px;width:100%}.single-component-overview .trans-info li>ul[data-v-28377c17]{display:table;width:100%}.single-component-overview .trans-info li>ul li[data-v-28377c17]{display:table-cell;vertical-align:middle;word-break:break-all}.single-component-overview .trans-info li>ul>li[data-v-28377c17]{width:30%}.single-component-overview .trans-info li>ul>li+li[data-v-28377c17]{width:70%}.single-component-overview .chart-wrap[data-v-28377c17]{position:absolute;top:33px;bottom:0;left:0;right:0}.single-component-overview .panel[data-v-28377c17]{margin-bottom:12px;background-color:#f7f7f7;border:none;border-radius:5px;padding:10px}.single-component-overview .panel .title[data-v-28377c17]{padding-left:5px;font-size:14px;color:#333}.single-component-overview .panel .time[data-v-28377c17]{color:#ff812e;font-size:14px}.single-component-overview .panel .arrow[data-v-28377c17]{float:right;margin-top:3px;color:#333;opacity:0;transition:.25s}.single-component-overview .panel .panel-item-name[data-v-28377c17]{font-size:14px;line-height:26px;text-overflow:ellipsis;word-break:break-all;overflow:hidden}.single-component-overview .panel[data-v-28377c17]:hover{cursor:pointer}.single-component-overview .panel:hover .arrow[data-v-28377c17]{opacity:1}",""])},697:function(t,e,a){e=t.exports=a(566)(),e.push([t.i,".table-box[data-v-37f5917a]{height:100%;padding:24px}.icon[data-v-37f5917a]{display:inline-block;width:14px;height:14px;margin:0 3px;background-repeat:no-repeat;background-size:100%}.icon-remote[data-v-37f5917a]{background-image:url("+a(639)+")}.icon-database[data-v-37f5917a]{background-image:url("+a(640)+")}",""])},699:function(t,e,a){e=t.exports=a(566)(),e.push([t.i,".table-box[data-v-639ff5c3]{height:100%;overflow:auto;position:relative;padding:24px}",""])},701:function(t,e,a){e=t.exports=a(566)(),e.push([t.i,".table-box[data-v-66b1cf19]{height:100%;overflow:auto;position:relative;padding:24px}",""])},702:function(t,e,a){e=t.exports=a(566)(),e.push([t.i,".table-box[data-v-8345724a]{height:100%;overflow:auto;position:relative;padding:24px;padding-top:0}.icon[data-v-8345724a]{display:inline-block;font-size:12px;width:14px;height:14px;background-repeat:no-repeat;background-size:100%}.icon-remote[data-v-8345724a]{background-image:url("+a(639)+")}.icon-database[data-v-8345724a]{background-image:url("+a(640)+")}.header[data-v-8345724a]{left:0;bottom:0;width:100%;background:#fff;box-shadow:0 0 10px 0 #ccc}.header .toolbar[data-v-8345724a]{list-style:none;padding:10px;float:right}.header .toolbar li[data-v-8345724a]{display:inline-block;margin-right:10px;line-height:20px;height:20px}.header .toolbar li .tag[data-v-8345724a]{display:inline-block;background-color:#5b97fb;vertical-align:middle;margin-right:2px;margin-bottom:2px;border-radius:2px;width:25px;height:12px}.header .toolbar li .tag.self[data-v-8345724a]{background-color:#29ca8e}",""])},703:function(t,e,a){e=t.exports=a(566)(),e.push([t.i,".table-box[data-v-c4ec3722]{height:100%;overflow:auto;position:relative;padding:24px}",""])},705:function(t,e,a){var n=a(692);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(567)("0995a664",n,!0)},706:function(t,e,a){var n=a(693);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(567)("0681e6de",n,!0)},707:function(t,e,a){var n=a(694);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(567)("505970e0",n,!0)},708:function(t,e,a){var n=a(695);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(567)("6d38d509",n,!0)},709:function(t,e,a){var n=a(696);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(567)("2d462ff2",n,!0)},710:function(t,e,a){var n=a(697);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(567)("db6ea960",n,!0)},712:function(t,e,a){var n=a(699);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(567)("7c6030ba",n,!0)},714:function(t,e,a){var n=a(701);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(567)("0c1879c7",n,!0)},715:function(t,e,a){var n=a(702);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(567)("77a7eeca",n,!0)},716:function(t,e,a){var n=a(703);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(567)("5658cb38",n,!0)},721:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"loadingContainer",staticClass:"single-trans-error-detail common-container no-border"},[t.errorList&&t.errorList.length<=0?a("li",{staticClass:"error-empty"},[t._v("暂无数据")]):a("div",{staticClass:"multiple"},[a("div",{staticClass:"l"},[t._m(0),t._v(" "),a("div",{staticClass:"content"},[a("ul",{staticClass:"panel"},t._l(t.errorList,function(e,n){return a("li",{key:n,class:t.selectedError===e?["selected"]:"",on:{click:function(a){t.selectedError=e}}},[t._v("\n              "+t._s(e.name)+"\n              "),a("i",{staticClass:"theme-font-icon-color-weak ion-chevron-right",staticStyle:{float:"right","margin-top":"12px","margin-right":"10px"}})])}))])]),t._v(" "),a("div",{staticClass:"r"},[t._m(1),t._v(" "),a("div",{ref:"topoContainer",staticClass:"content"},[t._v("\n          "+t._s(t.selectedError.stack)+"\n        ")])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header-title tabstyle"},[a("span",{staticClass:"title-name"},[t._v("错误列表")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header-title tabstyle"},[a("span",{staticClass:"title-name"},[t._v("堆栈追踪")])])}]}},722:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"loadingContainer",staticClass:"single-trans-error-detail common-container no-border"},[t.errorList&&t.errorList.length<=0?a("li",{staticClass:"error-empty"},[t._v("暂无数据")]):a("div",{staticClass:"multiple"},[a("div",{staticClass:"l"},[t._m(0),t._v(" "),a("div",{staticClass:"content"},[a("ul",{staticClass:"panel"},t._l(t.errorList,function(e,n){return a("li",{key:n,class:t.selectedError===e?["selected"]:"",on:{click:function(a){t.selectedError=e}}},[t._v("\n              "+t._s(e.errorName)+"\n              "),a("i",{staticClass:"theme-font-icon-color-weak ion-chevron-right",staticStyle:{float:"right","margin-top":"12px","margin-right":"10px"}})])}))])]),t._v(" "),a("div",{staticClass:"r"},[t._m(1),t._v(" "),a("div",{ref:"topoContainer",staticClass:"content"},[t._v("\n          "+t._s(t.selectedError.stack)+"\n        ")])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header-title tabstyle"},[a("span",{staticClass:"title-name"},[t._v("错误列表")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header-title tabstyle"},[a("span",{staticClass:"title-name"},[t._v("堆栈追踪")])])}]}},723:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"loadingContainer",staticClass:"table-box"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.remoteCallbackList,stripe:""}},[a("el-table-column",{attrs:{prop:"remoteAddress",label:"远程接口"}}),t._v(" "),a("el-table-column",{attrs:{prop:"callCount",label:"调用次数"}}),t._v(" "),a("el-table-column",{attrs:{prop:"totalTime",label:"总耗时(ms)"}})],1)],1)},staticRenderFns:[]}},724:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"loadingContainer",staticClass:"single-trans-overview common-container no-border"},[a("div",{staticClass:"multiple"},[a("div",{staticClass:"l"},[t._m(0),t._v(" "),a("div",{staticClass:"content"},[a("ul",{staticClass:"trans-info"},[a("li",[a("ul",[a("li",[t._v("用户体验：")]),t._v(" "),a("li",[t._v(t._s(t.apdexTitle)),a("i",{staticClass:"icon-apdex",class:t.apdexIconClass,attrs:{title:t.apdexTitle}})])])]),a("li",[a("ul",[a("li",[t._v("事务名称：")]),t._v(" "),a("li",[t._v(t._s(t.transInfo.transName))])])]),t._v(" "),a("li",[a("ul",[a("li",[t._v("响应时间：")]),t._v(" "),a("li",[t._v(t._s(t.transInfo.responseTime)+" ms")])])]),t._v(" "),a("li",[a("ul",[a("li",[t._v("发生时间：")]),t._v(" "),a("li",[t._v(t._s(t.transInfo.startTime))])])])])]),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:"content"},t._l(t.dangers,function(e,n){return a("div",{key:n,staticClass:"panel",on:{click:function(a){t.openTab(e)}}},[a("p",[a("i",{staticClass:"icon-snapshot",class:t.convertDanger(e).iconCls}),t._v(" "),a("small",{staticClass:"title"},[t._v(t._s(t.convertDanger(e).tag))]),t._v(" "),"ERROR"!==e.type?a("small",{staticClass:"time"},[t._v(t._s(e.componentTime)+" ms")]):t._e(),t._v(" "),t._m(2,!0)]),t._v(" "),a("a",{attrs:{href:"javascript:void(0);"}},[a("span",{staticClass:"panel-item-name"},[t._v(t._s(e.componentName))]),t._v(" "),"ERROR"!==e.type?a("el-progress",{attrs:{"text-inside":!0,"stroke-width":8,"show-text":!1,percentage:t.transInfo.responseTime>0?Math.floor(e.componentTime/t.transInfo.responseTime*1e4)/100:100}}):t._e()],1)])}))]),t._v(" "),a("div",{staticClass:"r"},[a("div",{staticClass:"header-title tabstyle"},[a("span",{staticClass:"title-name"},[t._v("拓扑图")]),t._v(" "),a("div",{staticClass:"right-info"},[a("a",{attrs:{href:"javascript:void(0)"},on:{click:t.setFullScreen}},[a("i",{staticClass:"icon ion-android-expand"})])])]),t._v(" "),a("div",{ref:"topoContainer",staticClass:"content"},[a("Topo",{key:"single-trans-overview",attrs:{fullbtnDisplay:t.topo.fullbtnDisplay,data:t.topo.data,update:t.topo.update,attachmentSummary:t.topo.attachmentSummary,setFullScreen:t.fullScreen},on:{onMouseUpNode:t.onMouseUpNode,onFullScreenChange:t.onFullScreenChange}})],1)])]),t._v(" "),a("el-dialog",{attrs:{size:"large",modal:!1,title:"事务列表",visible:t.dialogTransTableVisible},on:{"update:visible":function(e){t.dialogTransTableVisible=e}}},[a("el-table",{attrs:{data:t.transGridData}},[a("el-table-column",{attrs:{property:"apdex",label:"用户体验",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("i",{staticClass:"icon-health icon-row",class:t.convertApdex(e.row.apdex).apdexIconClass,attrs:{title:t.apdexTitle}}),t._v("\n          "+t._s(t.convertApdex(e.row.apdex).apdexTitle)+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{property:"transName",label:"事务名称",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("a",{staticClass:"theme-font-color-primary",attrs:{href:"javascript:void(0);"},on:{click:function(a){t.openTab(e.row)}}},[t._v(t._s(e.row.transName))])]}}])}),t._v(" "),a("el-table-column",{attrs:{property:"agentName",label:"实例"}}),t._v(" "),a("el-table-column",{attrs:{property:"type",label:"类型"}}),t._v(" "),a("el-table-column",{attrs:{property:"startTime",label:"发生时间"}}),t._v(" "),a("el-table-column",{attrs:{property:"responseTime",label:"响应时间(ms)"}})],1)],1)],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header-title tabstyle"},[a("span",{staticClass:"title-name"},[t._v("基本信息")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header-title tabstyle"},[a("span",{staticClass:"title-name"},[t._v("潜在风险")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("small",{staticClass:"arrow"},[a("i",{staticClass:"theme-font-icon-color-weak ion-chevron-right"})])}]}},725:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"loadingContainer",staticClass:"single-component-overview common-container no-border"},[a("div",{staticClass:"multiple"},[a("div",{staticClass:"l"},[t._m(0),t._v(" "),a("div",{staticClass:"content"},[a("ul",{staticClass:"trans-info"},t._l(t.localBasicInfo,function(e,n){return a("li",{key:n},[a("ul",[a("li",{staticClass:"label"},[t._v(t._s(e.label)+"：")]),"userExperience"===e.key?a("li",{},[t._v("\n                  "+t._s(t.convertApdex(e.value).apdexTitle)),a("i",{staticClass:"icon-apdex",class:t.convertApdex(e.value).apdexIconClass,attrs:{title:t.convertApdex(e.value).apdexTitle}})]):"responseTime"===e.key?a("li",[t._v("\n                  "+t._s(e.value)+" ms\n                ")]):a("li",{class:{danger:e.httpStatus&&e.httpStatus>=400}},[t._v("\n                  "+t._s(e.value)+"\n                ")])])])}))]),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:"content"},[a("ul",{staticClass:"trans-info"},t._l(t.localRequestParam,function(e,n){return a("li",{key:n},[a("ul",[a("li",[t._v(t._s(e.key)+"：")]),t._v(" "),a("li",[t._v("\n              "+t._s(e.value)+"\n            ")])])])}))])]),t._v(" "),a("div",{staticClass:"r"},[t._m(2),t._v(" "),a("div",{staticClass:"content"},t._l(t.localPotentialIssue,function(e,n){return a("div",{key:n,staticClass:"panel",on:{click:function(a){t.gotoComponentTab(e)}}},[a("p",[a("i",{staticClass:"icon-snapshot",class:t.convertDanger(e).iconCls}),t._v(" "),a("small",{staticClass:"title"},[t._v(t._s(t.convertDanger(e).tag))]),t._v(" "),"ERROR"!==e.type?a("small",{staticClass:"time"},[t._v(t._s(e.elapsedTime)+" ms")]):t._e(),t._v(" "),t._m(3,!0)]),t._v(" "),a("a",{staticStyle:{display:"block",width:"100%"},attrs:{href:"javascript:void(0);"}},["ERROR"!==e.type?a("span",{staticClass:"panel-item-name"},[t._v(t._s(e.name))]):a("div",{staticClass:"panel-item-name"},[t._v(t._s(e.errorName)+":"+t._s(e.errorMessage))]),t._v(" "),"ERROR"!==e.type?a("el-progress",{attrs:{"text-inside":!0,"stroke-width":8,"show-text":!1,percentage:e.percentage}}):t._e()],1)])}))])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header-title tabstyle"},[a("span",{staticClass:"title-name"},[t._v("基本信息")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header-title tabstyle"},[a("span",{staticClass:"title-name"},[t._v("请求参数")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header-title tabstyle"},[a("span",{staticClass:"title-name"},[t._v("潜在问题")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("small",{staticClass:"arrow"},[a("i",{staticClass:"theme-font-icon-color-weak ion-chevron-right"})])}]}},726:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"loadingContainer",staticClass:"table-box"},[a("el-table",{attrs:{data:t.dataList}},[a("el-table-column",{attrs:{label:"层"},scopedSlots:t._u([{key:"default",fn:function(e){return["NORMAL"===e.row.health?a("i",{staticClass:"icon-apdex icon-apdex-normal",attrs:{title:"正常"}}):t._e(),t._v(" "),"SLOW"===e.row.health?a("i",{staticClass:"icon-apdex icon-apdex-slow",attrs:{title:"缓慢"}}):t._e(),t._v(" "),"VERY_SLOW"===e.row.health?a("i",{staticClass:"icon-apdex icon-apdex-very-slow",attrs:{title:"非常慢"}}):t._e(),t._v(" "),"ERROR"===e.row.health?a("i",{staticClass:"icon-apdex icon-apdex-error",attrs:{title:"错误"}}):t._e(),t._v("\n        "+t._s(e.row.tierName)+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"nodeName",label:"节点"}}),t._v(" "),a("el-table-column",{attrs:{prop:"transactionTime",width:"100",label:"耗时(ms)"}}),t._v(" "),a("el-table-column",{attrs:{label:"调用链响应时间："+t.fullConsumingTime+"ms"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("ul",{staticStyle:{display:"table",width:"100%"}},[a("li",{staticStyle:{display:"table-cell"}},[a("range-progress",{attrs:{status:"success","show-text":!0,"stroke-width":7,items:e.row.progress}})],1),t._v(" "),a("li",{staticStyle:{display:"table-cell",width:"50px","padding-left":"2px"}},[t._v("\n            "+t._s(t.fullConsumingTime>0?Math.round(e.row.transactionTime/t.fullConsumingTime*1e4)/100:100)+"%\n          ")])])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"strStringTime",width:"150",label:"开始时间"}}),t._v(" "),a("el-table-column",{attrs:{width:"100",label:"来源"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s("-1"==e.row.source?"浏览器点击":e.row.source)+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{type:"index",width:"100",label:"附加信息"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticStyle:{"text-align":"center"}},[e.row.extra&&e.row.extra.dataBase?a("span",{staticClass:"icon-container icon"},[a("i",{staticClass:"icon theme-font-color-primary icon-database",attrs:{title:"数据库"}})]):t._e(),t._v(" "),e.row.extra&&e.row.extra.remote?a("span",{staticClass:"icon-container icon"},[a("i",{staticClass:"icon theme-font-color-primary icon-remote",attrs:{title:"远程调用"}})]):t._e()])}}])})],1)],1)},staticRenderFns:[]}},728:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"loadingContainer",staticClass:"table-box"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.databaseRemoteDataList,stripe:""}},[a("el-table-column",{attrs:{prop:"type",width:"200",label:"类型"}}),t._v(" "),a("el-table-column",{attrs:{prop:"callFrom",label:"调用来源"}}),t._v(" "),a("el-table-column",{attrs:{prop:"callTo",label:"调用去向"}}),t._v(" "),a("el-table-column",{attrs:{prop:"details",label:"详情"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticStyle:{"{\n               overflow":"hidden","text-overflow":"ellipsis","word-wrap":"break-word",display:"-webkit-box","-webkit-line-clamp":"3","-webkit-box-orient":"vertical"},attrs:{title:e.row.details}},[t._v(t._s(e.row.details)+"\n        ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"callCount",width:"100",label:"调用次数"}}),t._v(" "),a("el-table-column",{attrs:{prop:"elapsedTime",width:"100",label:"总耗时(ms)"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s((+e.row.elapsedTime).toFixed(2))+"\n      ")]}}])})],1)],1)},staticRenderFns:[]}},730:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"loadingContainer",staticClass:"table-box"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.databaseList,stripe:""}},[a("el-table-column",{attrs:{prop:"databaseType",label:"类型"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sql",label:"详情"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticStyle:{"{\n               overflow":"hidden","text-overflow":"ellipsis","word-wrap":"break-word",display:"-webkit-box","-webkit-line-clamp":"3","-webkit-box-orient":"vertical"},attrs:{title:e.row.sql}},[t._v(t._s(e.row.sql)+"\n        ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"callCount",label:"调用次数"}}),t._v(" "),a("el-table-column",{attrs:{prop:"totalTime",label:"总耗时(ms)"}})],1)],1)},staticRenderFns:[]}},731:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"loadingContainer",staticClass:"table-box"},[t._m(0),t._v(" "),a("TreeTable",{attrs:{treeNodeColumnWidth:"50%",columns:t.columns,nodes:t.dataList},scopedSlots:t._u([{key:"columns",fn:function(e){return[a("td",{staticStyle:{width:"100px"}},[t._v(t._s(e.row.value.timeOffset))]),t._v(" "),a("td",{staticStyle:{width:"100px"}},[t._v(t._s(e.row.value.internalTimeSpend+e.row.value.callTimeSpend))]),t._v(" "),a("td",[a("div",{staticStyle:{"padding-right":"35px"}},[a("range-progress",{attrs:{status:"success","show-text":!0,"stroke-width":7,items:e.row.value.progress}}),t._v("\n        "+t._s(e.row.value.totalTimeSpend?Math.round((e.row.value.internalTimeSpend+e.row.value.callTimeSpend)/e.row.value.totalTimeSpend*1e4)/100:0)+"%\n        ")],1)]),t._v(" "),a("td",{staticStyle:{"text-align":"center",width:"80px"}},["REMOTE"===e.row.value.type?a("i",{staticClass:"icon theme-font-color-primary icon-remote",attrs:{title:"远程调用"}}):t._e(),t._v(" "),"DATABASE"===e.row.value.type?a("i",{staticClass:"icon theme-font-color-primary icon-database",attrs:{title:"数据库"}}):t._e()])]}}])})],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header"},[a("ul",{staticClass:"toolbar"},[a("li",[a("span",{staticClass:"tag self"}),t._v("自身耗时")]),t._v(" "),a("li",[a("span",{staticClass:"tag"}),t._v("调用耗时")])])])}]}},732:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"loadingContainer",staticClass:"table-box"},[a("StackedBarChart",{attrs:{height:150,"show-header":!1,"show-border":!1,yAxisCategoryText:"耗时",data:t.chartData}}),t._v(" "),a("el-table",{staticClass:"mt20",staticStyle:{width:"100%"},attrs:{data:t.detailData,stripe:""}},[a("el-table-column",{attrs:{prop:"name",label:"组件详情"}}),t._v(" "),a("el-table-column",{attrs:{prop:"callCount",label:"调用次数",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"timeSpend",label:"自身耗时(ms)",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{label:"占比",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(t.totalTime>0?Math.floor(e.row.timeSpend/t.totalTime*1e4)/100:100)+"%\n      ")]}}])})],1)],1)},staticRenderFns:[]}},736:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=a(35),i=a(571),r=n(i),s=a(569),l=n(s),c=a(573),d=n(c),h=a(570),u=n(h),p=a(568),f=n(p),g=a(572),m=n(g);e.default={components:{"el-icon":o.Icon,"el-popover":o.Popover,"el-pagination":o.Pagination,"el-table":o.Table,"el-table-column":o.TableColumn,"el-tabs":o.Tabs,"el-tab-pane":o.TabPane,"el-input":o.Input,SingleComponentOverview:r.default,SingleComponentDetail:l.default,SingleComponentStackTrace:d.default,SingleComponentErrorDetail:u.default,SingleComponentDatabase:f.default,SingleComponentRemote:m.default},data:function(){return{currentTab:"single-component-overview",error:""}},props:{options:{required:!0,type:Object}},methods:{onSwitchTab:function(t,e){switch(this.currentTab=t,this.currentTab){case"single-component-error-detail":this.error=e.error}}}}},737:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=a(35),i=a(576),r=n(i),s=a(577),l=n(s),c=a(574),d=n(c),h=a(575),u=n(h);e.default={components:{"el-icon":o.Icon,"el-popover":o.Popover,"el-pagination":o.Pagination,"el-table":o.Table,"el-table-column":o.TableColumn,"el-tabs":o.Tabs,"el-tab-pane":o.TabPane,"el-input":o.Input,SingleTransOverview:r.default,SingleTransWaterfall:l.default,SingleTransDatabase:d.default,SingleTransErrorDetail:u.default},data:function(){return{currentTab:"single-trans-overview"}},props:{options:{required:!0,type:Object,default:{}}},methods:{}}},746:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sinle-component-snapshot"},[a("el-tabs",{staticClass:"header-margin0",model:{value:t.currentTab,callback:function(e){t.currentTab=e},expression:"currentTab"}},[a("el-tab-pane",{attrs:{label:"概览",name:"single-component-overview"}},[a("SingleComponentOverview",{attrs:{options:t.options,selected:"single-component-overview"===t.currentTab},on:{"switch-tab":t.onSwitchTab}})],1),t._v(" "),a("el-tab-pane",{attrs:{label:"组件详情",name:"single-component-detail"}},[a("SingleComponentDetail",{attrs:{options:t.options,selected:"single-component-detail"===t.currentTab}})],1),t._v(" "),a("el-tab-pane",{attrs:{label:"堆栈追踪",name:"single-component-stacktrace"}},[a("SingleComponentStackTrace",{attrs:{options:t.options,selected:"single-component-stacktrace"===t.currentTab}})],1),t._v(" "),a("el-tab-pane",{attrs:{label:"错误详情",name:"single-component-error-detail"}},[a("SingleComponentErrorDetail",{attrs:{error:t.error,options:t.options,selected:"single-component-error-detail"===t.currentTab}})],1),t._v(" "),a("el-tab-pane",{attrs:{label:"数据库",name:"single-component-database"}},[a("SingleComponentDatabase",{attrs:{options:t.options,selected:"single-component-database"===t.currentTab}})],1),t._v(" "),a("el-tab-pane",{attrs:{label:"远程调用",name:"single-component-remote"}},[a("SingleComponentRemote",{attrs:{options:t.options,selected:"single-component-remote"===t.currentTab}})],1)],1)],1)},staticRenderFns:[]}},747:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sinle-trans-snapshot"},[a("el-tabs",{staticClass:"header-margin0",model:{value:t.currentTab,callback:function(e){t.currentTab=e},expression:"currentTab"}},[a("el-tab-pane",{attrs:{label:"概览",name:"single-trans-overview"}},[a("SingleTransOverview",{attrs:{options:t.options,selected:"single-trans-overview"===t.currentTab}})],1),t._v(" "),a("el-tab-pane",{attrs:{label:"调用瀑布流",name:"single-trans-waterfall"}},[a("SingleTransWaterfall",{attrs:{options:t.options,selected:"single-trans-waterfall"===t.currentTab}})],1),t._v(" "),a("el-tab-pane",{attrs:{label:"数据库&远程调用",name:"single-trans-database"}},[a("SingleTransDatabase",{attrs:{options:t.options,selected:"single-trans-database"===t.currentTab}})],1),t._v(" "),a("el-tab-pane",{attrs:{label:"错误详情",name:"single-trans-error-detail"}},[a("SingleTransErrorDetail",{attrs:{options:t.options,selected:"single-trans-error-detail"===t.currentTab}})],1)],1)],1)},staticRenderFns:[]}},753:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=a(202),i=a(579),r=n(i),s=a(578),l=n(s),c=a(35);e.default={name:"snapshot",components:{"el-icon":c.Icon,"el-popover":c.Popover,"el-pagination":c.Pagination,"el-table":c.Table,"el-table-column":c.TableColumn,"el-tabs":c.Tabs,"el-tab-pane":c.TabPane,"el-input":c.Input,"el-dialog":c.Dialog,SingleTransSnapshot:r.default,SingleComponentSnapshot:l.default},data:function(){return{title:"事务",tabs:[],selectedTabName:"",showDialog:!1}},watch:{selectedTabName:function(t){this.$root.eventBus.switchTab(t)},showDialog:function(){this.showDialog||this.closeTabs()}},created:function(){var t=this,e=this;e.$root.eventBus.$on("snapshot-tab-change",function(a,n){e.tabs.splice(0,e.tabs.length),a.forEach(function(t){e.tabs.push(t)}),e.selectedTabName=n,e.tabs&&e.tabs.length>0?t.showDialog=!0:t.showDialog=!1})},mounted:function(){},methods:{renderTabClass:function(t){if("single-trans-snapshot"===t.type)return[];var e=t.options.apdex;return[(0,o.apdexConverter)(e).apdexIconClass]},renderTabTitle:function(t){return"single-trans-snapshot"===t.type?"事务："+t.options.queryStr:(t.options.transTime||t.options.responseTime||0)+"ms-"+t.options.tierName},closeTabs:function(){this.$root.eventBus.closeAllTabs(),this.selectedTabName=null,this.tabs=[]},closeTab:function(t){console.log(t),this.$root.eventBus.closeTab(t)},convertApdex:function(t){switch(t.query.apdex){case"SLOW":return{apdexIconClass:"icon-apdex-slow",apdexStatus:"slow",apdexTitle:"缓慢"};case"VERY_SLOW":return{apdexIconClass:"icon-apdex-very-slow",apdexStatus:"very_slow",apdexTitle:"非常慢"};case"ERROR":return{apdexIconClass:"icon-apdex-error",apdexStatus:"error",apdexTitle:"错误"};case"NORMAL":default:return{apdexIconClass:"icon-apdex-normal",apdexStatus:"normal",apdexTitle:"正常"}}}}}},761:function(t,e,a){e=t.exports=a(566)(),e.push([t.i,".snapshot1024 .common-container.no-border{border:0;border-radius:0;margin:0}.snapshot1024>.el-dialog__wrapper>.el-dialog{background-color:#f7f7f7}.snapshot1024>.el-dialog__wrapper>.el-dialog>.el-dialog__header{width:100%;position:absolute}.snapshot1024>.el-dialog__wrapper>.el-dialog>.el-dialog__header .el-dialog__headerbtn{margin-top:-10px}.snapshot1024>.el-dialog__wrapper>.el-dialog>.el-dialog__header .el-dialog__headerbtn .el-icon-close{color:#062846}.snapshot1024>.el-dialog__wrapper>.el-dialog>.el-dialog__body{box-sizing:border-box;width:100%;height:100%;padding:0}.snapshot1024>.el-dialog__wrapper>.el-dialog>.el-dialog__body>.common-container{width:100%;height:100%;border:none;margin:0;background-color:transparent}.snapshot1024>.el-dialog__wrapper>.el-dialog>.el-dialog__body>.common-container>.content,.snapshot1024>.el-dialog__wrapper>.el-dialog>.el-dialog__body>.common-container>.content .outer-tabs{height:100%}.snapshot1024>.el-dialog__wrapper>.el-dialog>.el-dialog__body>.common-container>.content .outer-tabs>.el-tabs__header{margin-bottom:0;border:1px solid #dcdcdc;border:0}.snapshot1024>.el-dialog__wrapper>.el-dialog>.el-dialog__body>.common-container>.content .outer-tabs>.el-tabs__header .el-tabs__item{color:#666;border-radius:5px 5px 0 0;background-color:#eee;border:1px solid #dcdcdc}.snapshot1024>.el-dialog__wrapper>.el-dialog>.el-dialog__body>.common-container>.content .outer-tabs>.el-tabs__header .el-tabs__item>span:first-child>a{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;max-width:200px;display:inline-block;vertical-align:middle}.snapshot1024>.el-dialog__wrapper>.el-dialog>.el-dialog__body>.common-container>.content .outer-tabs>.el-tabs__header .el-tabs__item.is-active{background-color:#fff}.snapshot1024>.el-dialog__wrapper>.el-dialog>.el-dialog__body>.common-container>.content .outer-tabs>.el-tabs__header .el-tabs__nav-prev{background-color:#fff;border:1px solid #dcdcdc;border-width:1px 0 0 1px}.snapshot1024>.el-dialog__wrapper>.el-dialog>.el-dialog__body>.common-container>.content .outer-tabs>.el-tabs__header .el-tabs__nav-next{background-color:#fff;border:1px solid #dcdcdc;border-width:1px 1px 1px 0}.snapshot1024>.el-dialog__wrapper>.el-dialog>.el-dialog__body>.common-container>.content .outer-tabs>.el-tabs__content{border:1px solid #dcdcdc;background-color:#fff;border-radius:5px;min-height:90%;margin-bottom:24px}.snapshot1024>.el-dialog__wrapper>.el-dialog>.el-dialog__body>.common-container>.content .outer-tabs>.el-tabs__content>.el-tab-pane .el-tabs__header{border:none;border-bottom:1px solid #dcdcdc}.snapshot1024 .icon-apdex{margin-bottom:2px}",""])},766:function(t,e,a){var n=a(761);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(567)("90187a12",n,!0)},776:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"snapshot1024"},[a("el-dialog",{ref:"dialog",attrs:{fullscreen:!0,visible:t.showDialog},on:{"update:visible":function(e){t.showDialog=e},close:t.closeTabs}},[a("div",{staticClass:"common-container"},[a("div",{staticClass:"content"},[a("el-tabs",{staticClass:"outer-tabs",staticStyle:{"margin-top":"10px"},attrs:{type:"card"},on:{"tab-remove":function(e){return t.closeTab(e)}},model:{value:t.selectedTabName,callback:function(e){t.selectedTabName=e},expression:"selectedTabName"}},t._l(t.tabs,function(e){return a("el-tab-pane",{key:e.name,attrs:{label:t.renderTabTitle(e),name:e.name,closable:"single-trans-snapshot"!=e.type}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("a",["single-trans-snapshot"!=e.type?a("i",{staticClass:"icon-apdex",class:t.renderTabClass(e)}):t._e(),t._v("\n              "+t._s(t.renderTabTitle(e))+"\n            ")])]),t._v(" "),"single-trans-snapshot"===e.type?a("SingleTransSnapshot",{attrs:{options:e.options}}):a("SingleComponentSnapshot",{attrs:{options:e.options}})],1)}))],1)])])],1)},staticRenderFns:[]}}});