/*! 2018-3-2 author:liuxiaofan */
webpackJsonp([4],{220:function(t,e,a){a(866);var r=a(54)(a(794),a(916),null,null);t.exports=r.exports},609:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(140),n=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default={data:function(){return{topBarQueryData:{}}},props:{},watch:{},computed:{appId:function(){return this.topBarQueryData.system.id},startTime:function(){return Number(this.topBarQueryData.time.startTime)},endTime:function(){return n.default.cutEndTime(Number(this.topBarQueryData.time.endTime))},aggrInterval:function(){return n.default.intervalToGranularity(this.endTime-this.startTime)},interval:function(){return""}},methods:{}}},681:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{barData:{type:Array,validator:function(t){return t.length<5},default:[3,3,3]}},data:function(){return{colorsF:["#a8d96f","#85cae6","#fab421","#f38211"],colorsT:["#a8d96f","#85cae6","#f38211"]}},computed:{titleCount:function(){return new Function("return "+this.barData.join("+"))()},percents:function(){var t=this;return this.barData.map(function(e){return e>0?e/t.titleCount*100:0})}}}},704:function(t,e,a){e=t.exports=a(566)(),e.push([t.i,".percent-bar[data-v-dd29795a]{background:#eee;display:flex}.percent-bar .item[data-v-dd29795a]{height:6px}",""])},717:function(t,e,a){var r=a(704);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);a(567)("0df310b5",r,!0)},720:function(t,e,a){a(717);var r=a(54)(a(681),a(733),"data-v-dd29795a",null);t.exports=r.exports},733:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"percent-bar"},[t._l(t.percents,function(e,r){return 3===t.percents.length?a("div",{key:r,staticClass:"item",style:{width:e+"%",background:t.colorsT[r]}}):t._e()}),t._v(" "),t._l(t.percents,function(e,r){return 4===t.percents.length?a("div",{key:r,staticClass:"item",style:{width:e+"%",background:t.colorsF[r]}}):t._e()})],2)},staticRenderFns:[]}},751:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(35);e.default={components:{InputNumber:r.InputNumber,"el-button":r.Button,"el-input":r.Input,Icon:r.Icon,Checkbox:r.Checkbox},data:function(){return{showCon:!1,filterData:{avgResponseTime:"",rpm:"",errorNum:""}}},mounted:function(){},directives:{numberOnly:{bind:function(t){t.handler=function(){t.value=t.value.replace(/[^\-?\d.]/g,"")},t.addEventListener("input",t.handler)},unbind:function(t){t.removeEventListener("input",t.handler)}}},watch:{filterData:{handler:function(t,e){this.$emit("fbarChange",t,e)},deep:!0}},methods:{handleAvgResponseTime:function(t){var e=t.target.value;this.filterData.avgResponseTime=e},handleRpm:function(t){var e=t.target.value;this.filterData.rpm=e},handleErrorNum:function(t){var e=t.target.value;this.filterData.errorNum=e},reset:function(){$(this.$el).find(".s-input").val("")}}}},759:function(t,e,a){e=t.exports=a(566)(),e.push([t.i,".filter-bar-simple[data-v-5619131e]{margin:0 24px}.filter-bar-simple .s-input[data-v-5619131e]{width:80px;padding:4px 10px}.filter-bar-simple .l-input[data-v-5619131e]{width:280px}.filter-bar-simple .header[data-v-5619131e]{padding:20px 0 0}.filter-bar-simple .content[data-v-5619131e]{margin-top:20px;padding:20px 0 0;border-top:1px solid #dcdcdc}.filter-bar-simple .circular[data-v-5619131e]{width:130px;margin-top:1px}.filter-bar-simple .btn-filter[data-v-5619131e]{color:#fff;padding:4px 20px;border-radius:2px}.filter-bar-simple .btn-filter i[data-v-5619131e]{margin-right:2px;font-size:14px}",""])},764:function(t,e,a){var r=a(759);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);a(567)("2a37d815",r,!0)},771:function(t,e,a){a(764);var r=a(54)(a(751),a(774),"data-v-5619131e",null);t.exports=r.exports},774:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"filter-bar-simple"},[a("div",{staticClass:"header clearfix"},[a("div",{staticClass:"button-area fn-fl"},[a("el-button",{staticClass:"btn-filter",attrs:{size:"mini",type:"primary"},on:{click:function(e){t.showCon=!t.showCon}}},[a("i",{staticClass:"fa fa-filter",attrs:{"aria-hidden":"true"}}),a("span",[t._v("过滤")])])],1)]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showCon,expression:"showCon"}],staticClass:"content"},[a("div",{staticClass:"row"},[a("span",{},[t._v("响应时间 > ")]),t._v(" "),a("input",{directives:[{name:"number-only",rawName:"v-number-only"}],staticClass:"s-input",on:{keyup:t.handleAvgResponseTime}}),t._v(" "),a("span",[t._v(" ms")]),t._v(" "),a("span",{staticClass:"ml40"},[t._v("吞吐率 > ")]),t._v(" "),a("input",{directives:[{name:"number-only",rawName:"v-number-only"}],staticClass:"s-input",on:{keyup:t.handleRpm}}),t._v(" "),a("span",[t._v(" rpm")]),t._v(" "),a("span",{staticClass:"ml40"},[t._v("错误数 > ")]),t._v(" "),a("input",{directives:[{name:"number-only",rawName:"v-number-only"}],staticClass:"s-input",on:{keyup:t.handleErrorNum}}),t._v(" "),a("span",[t._v(" 次")])])])])},staticRenderFns:[]}},780:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"FormatterLink",data:function(){return{}},props:{options:Object,value:[String,Object],row:[Object],index:[Number]},computed:{text:function(){return this.options.text?this.options.text(this.value,this.row,this.index):this.value},link:function(){return this.options.link?this.options.link(this.value,this.row,this.index):"javascript:void(0);"}},method:{onClick:function(t){this.options.onclick&&this.options.onclick(t)}}}},781:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(890),n=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default={name:"datagrid",components:{"formatter-link":n.default},data:function(){return{bordered:!1,striped:!0,slotBody:!1,themeTrClassName:"au-theme-border-color--base-8 au-theme-hover-background-color--base-10 au-theme-background-color--base-11"}},props:{loading:{type:Boolean,default:!1},columns:{type:Array,required:!0},totalCount:Number,pageSize:{type:Number,default:10},currentPage:{type:Number,default:1},dataList:{type:Array,default:function(){return[]}},pagination:{type:Boolean,default:!0},sortOrderBy:{type:String,default:""},sortRule:{type:String,default:"ASC"},clientSort:{type:Boolean,default:!0},sort:{type:Object,default:function(){return{orderBy:"",rule:"ASC"}}}},mounted:function(){this.slotBody=void 0!==this.$scopedSlots.rows},computed:{localSort:function(){var t=this.columns.filter(function(t){return t.sortable});return{orderBy:this.sort.orderBy||(t.length>0?t[0].code:""),rule:this.sort.rule||"DESC"}}},watch:{dataList:{deep:!0,handler:function(t){var e=this;this.slotBody&&this.$nextTick(function(){Array.prototype.map.call(e.$el.querySelectorAll("tr"),function(t){t.className=[t.className,e.themeTrClassName].join(" ")})})}},loading:function(t){t?this.loader=this.$loading({target:this.$refs.datagrid,text:"正在加载中..."}):(this.loader&&this.loader.close(),this.loader=null)}},methods:{togglePage:function(t){this.$emit("togglePage",t)},onSort:function(t,e){if(t){var a=this.sort.orderBy===e&&"ASC"===this.sort.rule?"DESC":"ASC";this.sort.orderBy=e,this.sort.rule=a,this.$emit("sort",e,a)}}}}},794:function(t,e,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=a(91),o=r(n),i=a(35),s=a(771),l=r(s),u=a(720),c=r(u),d=a(891),p=r(d),f=a(609),m=r(f);e.default={components:{"el-pagination":i.Pagination,"el-table":i.Table,"el-table-column":i.TableColumn,"el-input":i.Input,FilterBarSimple:l.default,Popover:i.Popover,PercentBar:c.default,DataGrid:p.default},mixins:[m.default],data:function(){return{dataList:[],allDataList:[],remoteListField:"avgResponseTime",remoteListOrder:"desc",remoteAddress:"",dataGridConfig:{totalCount:0,pagination:!1,sort:{orderBy:"",rule:"DESC"}}}},watch:{remoteAddress:function(){this.getRemoteList(),this.$refs.simplefilterbar.reset()}},methods:{barChange:function(t){this.topBarQueryData=t,this.getRemoteList()},fbarChange:function(t){this.dataList=this.handleFilterData(t,this.allDataList)},handleFilterData:function(t,e){var a=[];for(var r in t)"keyword"!==r&&(t[r]=t[r]||-1);return 0===t.avgResponseTime&&0===t.rpm&&0===t.errorNum?a=e:e.map(function(e){e.address.search(t.keyword)>=0&&Number(t.avgResponseTime)<Number(e.avgResponseTime)&&Number(t.rpm)<Number(e.throughput)&&Number(t.errorNum)<Number(e.errorCount)&&a.push(e)}),a},remoteListsortChange:function(t){switch(this.remoteListField=t.prop||"avgResponseTime",t.order){case"ascending":this.remoteListOrder="asc";break;case"descending":this.remoteListOrder="desc"}this.getRemoteList()},getRemoteList:function(){var t=this;this.api.getRemoteList({data:{condition:{appId:this.appId,startTime:this.startTime,endTime:this.endTime,address:this.remoteAddress,size:100},sort:{field:this.remoteListField,order:this.remoteListOrder}}}).then(function(e){0===e.code&&(t.dataList=e.data||[],t.allDataList=_.cloneDeep(e.data))})},goToDetail:function(t){(0,o.default)(t,{tierId:this.$route.query.tierId||"",instanceToken:this.$route.query.instanceToken||""}),this.$router.push({name:"remote-detail",query:t})}}}},823:function(t,e,a){e=t.exports=a(566)(),e.push([t.i,".formatter-link{color:#2565f6}",""])},832:function(t,e,a){e=t.exports=a(566)(),e.push([t.i,".remote .au-panel.table-panel{margin:16px}.remote .au-panel.table-panel .au-panel-content{padding:15px 15px 40px}",""])},839:function(t,e,a){e=t.exports=a(566)(),e.push([t.i,".paginator{padding:12px;text-align:right}.paginator .paginator-summary{float:left;height:32px;line-height:32px;font-size:13px;color:#a79c9c}span.icon-sort{display:inline-block;width:8px;height:16px;position:relative}span.icon-sort i.fa{width:8px;height:8px;position:absolute}span.icon-sort i.fa.fa-caret-up{left:0;top:0}span.icon-sort i.fa.fa-caret-down{left:0;bottom:0}span.icon-sort i.fa.selected{color:#1d85e3}.au-table{color:#666;border:1px solid #dcdcdc}.au-table tr{border:0!important}.au-table tr:nth-child(2n){background-color:#fff}.au-table tr:nth-child(odd){background-color:#f7f7f7}.au-table tr:hover{background-color:#dcdcdc}.au-table thead tr th{font-weight:700;background-color:#ececec}",""])},857:function(t,e,a){var r=a(823);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);a(567)("60f46552",r,!0)},866:function(t,e,a){var r=a(832);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);a(567)("c36cf1e4",r,!0)},873:function(t,e,a){var r=a(839);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);a(567)("b9fec104",r,!0)},890:function(t,e,a){a(857);var r=a(54)(a(780),a(906),null,null);t.exports=r.exports},891:function(t,e,a){a(873);var r=a(54)(a(781),a(924),null,null);t.exports=r.exports},906:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("a",{staticClass:"formatter-link",attrs:{href:t.link},nativeOn:{click:function(e){t.onClick(e)}}},[t._v(t._s(t.text))])},staticRenderFns:[]}},916:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"remote"},[a("top-bar",{attrs:{title:"远程调用"},on:{barChange:t.barChange}}),t._v(" "),a("FilterBarSimple",{ref:"simplefilterbar",on:{fbarChange:t.fbarChange}}),t._v(" "),a("div",{staticClass:"common-container"},[a("div",{staticClass:"header-title"},[a("i",{staticClass:"title-icon icon ion-podium"}),t._v(" "),a("span",{staticClass:"title-name"},[t._v("远程调用列表")]),t._v(" "),a("div",{staticClass:"seach-area fn-fr",staticStyle:{padding:"12px"}},[a("el-input",{staticClass:"circular",attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.remoteAddress,callback:function(e){t.remoteAddress="string"==typeof e?e.trim():e},expression:"remoteAddress"}})],1)]),t._v(" "),a("div",{staticClass:"content"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.dataList,stripe:""},on:{"sort-change":t.remoteListsortChange}},[a("el-table-column",{attrs:{type:"index",width:"60",label:"序号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"远程调用"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("a",{staticClass:"theme-font-color-primary",attrs:{href:"javascript:void 0;"},on:{click:function(a){t.goToDetail(e.row)}}},[t._v(t._s(e.row.address))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"avgResponseTime",label:"平均响应时间",sortable:"custom"}}),t._v(" "),a("el-table-column",{attrs:{prop:"throughput",label:"吞吐率(rpm)",sortable:"custom"}}),t._v(" "),a("el-table-column",{attrs:{prop:"requestCount",label:"请求数",sortable:"custom"}}),t._v(" "),a("el-table-column",{attrs:{prop:"errorCount",label:"错误数",sortable:"custom"}})],1)],1)])],1)},staticRenderFns:[]}},924:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"datagrid",staticClass:"datagrid"},[a("au-table",{ref:"dataTble",attrs:{striped:t.striped,bordered:t.bordered}},[a("thead",[a("tr",t._l(t.columns,function(e){return a("th",{on:{click:function(a){t.onSort(e.sortable,e.code)}}},[t._v(t._s(e.text)+"\n          "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.sortable,expression:"column.sortable"}],staticClass:"icon-sort"},[a("i",{staticClass:"fa fa-caret-up",class:{selected:t.localSort.orderBy==e.code&&"ASC"===t.localSort.rule},attrs:{"aria-hidden":"true"}}),t._v(" "),a("i",{staticClass:"fa fa-caret-down",class:{selected:t.localSort.orderBy==e.code&&"DESC"===t.localSort.rule},attrs:{"aria-hidden":"true"}})])])}))]),t._v(" "),a("tbody",[a("tr",{directives:[{name:"show",rawName:"v-show",value:0==t.dataList.length,expression:"dataList.length==0"}]},[a("td",{staticStyle:{height:"30px","line-height":"30px","text-align":"center"},attrs:{colspan:t.columns.length}},[t._v("暂无数据")])]),t._v(" "),t._l(t.dataList,function(e,r){return a("tr",{directives:[{name:"show",rawName:"v-show",value:!t.slotBody,expression:"!slotBody"}],staticClass:"au-theme-border-color--base-8 au-theme-hover-background-color--base-10 au-theme-background-color--base-11"},t._l(t.columns,function(n){return a("td",[a("div",{style:n.styler},[n.formatter&&"link"===n.formatter.type?a("formatter-link",{attrs:{options:n.formatter.options,value:e[n.code],row:e,index:r}}):[t._v("\n              "+t._s(e[n.code])+"\n            ")]],2)])}))}),t._v(" "),t._l(t.dataList,function(e,a){return t.slotBody?t._t("rows",null,{row:{value:e,index:a}}):t._e()})],2)]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.pagination,expression:"pagination"}],staticClass:"paginator"},[a("au-paginator",{attrs:{total:t.totalCount,size:t.pageSize,current:t.currentPage},on:{toggle:t.togglePage}})],1)],1)},staticRenderFns:[]}}});