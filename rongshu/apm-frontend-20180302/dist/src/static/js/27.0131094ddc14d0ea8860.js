/*! 2018-3-2 author:liuxiaofan */
webpackJsonp([27],{596:function(e,t,a){a(883);var n=a(54)(a(805),a(939),"data-v-e9473e04",null);e.exports=n.exports},609:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(140),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{topBarQueryData:{}}},props:{},watch:{},computed:{appId:function(){return this.topBarQueryData.system.id},startTime:function(){return Number(this.topBarQueryData.time.startTime)},endTime:function(){return r.default.cutEndTime(Number(this.topBarQueryData.time.endTime))},aggrInterval:function(){return r.default.intervalToGranularity(this.endTime-this.startTime)},interval:function(){return""}},methods:{}}},735:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"tuxedo-bar"}},739:function(e,t,a){t=e.exports=a(566)(),t.push([e.i,'.tuxedo-bar[data-v-4dd4a234]{margin:24px}.tuxedo-bar .tabs[data-v-4dd4a234]{background:#fff;box-shadow:0 0 1px rgba(60,65,71,.5)}.tuxedo-bar-query[data-v-4dd4a234]{height:40px;padding:0 10px;border-bottom:1px solid}.tuxedo-bar-query .submit[data-v-4dd4a234]{width:100px;float:right}.tuxedo-bar-query .query[data-v-4dd4a234]{position:relative;float:right}.tuxedo-bar-query .time-selector[data-v-4dd4a234]{margin-left:8px}.tuxedo-bar-query .el-dropdown-menu[data-v-4dd4a234]{max-height:400px;overflow-y:auto}.tab-list[data-v-4dd4a234]:after,.tuxedo-bar-query[data-v-4dd4a234]:after{content:"";display:block;clear:both}.tab-list[data-v-4dd4a234]{height:40px;padding:0 10px}.tab-list li[data-v-4dd4a234]{float:left;height:100%}.tab-list li a[data-v-4dd4a234]{position:relative;bottom:-1px;display:block;height:100%;box-sizing:border-box;line-height:40px;padding:0 20px;font-size:14px}.tab-list li a.active[data-v-4dd4a234],.tab-list li a[data-v-4dd4a234]:hover{border-bottom:2px solid #2879ff!important}',""])},741:function(e,t,a){var n=a(739);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(567)("60db119c",n,!0)},744:function(e,t,a){a(741);var n=a(54)(a(735),a(748),"data-v-4dd4a234",null);e.exports=n.exports},748:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tuxedo-bar"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.$route.query.tierId,expression:"$route.query.tierId"}],staticClass:"tabs"},[a("ul",{staticClass:"tab-list"},[a("li",[a("router-link",{staticClass:"theme-font-color-weak",attrs:{"active-class":"active theme-border-color-primary theme-font-color-primary",to:{name:"tier-tuxedo-current",query:e.$route.query}}},[e._v("实时")])],1),e._v(" "),a("li",[a("router-link",{staticClass:"theme-font-color-weak",attrs:{"active-class":"active theme-border-color-primary theme-font-color-primary",to:{name:"tier-tuxedo-server",query:e.$route.query}}},[e._v("服务器")])],1),e._v(" "),a("li",[a("router-link",{staticClass:"theme-font-color-weak",attrs:{"active-class":"active theme-border-color-primary theme-font-color-primary",to:{name:"tier-tuxedo-client",query:e.$route.query}}},[e._v("客户端")])],1)])])])},staticRenderFns:[]}},805:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(744),o=n(r),i=a(35),s=a(609),l=n(s);t.default={mixins:[l.default],data:function(){return{queryData:{},currenTime:{callBoard:[],serverInfo:[],tradeInfo:[],serviceInfo:[],queueInfo:[]},currentPage:{serverInfo:1,tradeInfo:1,serviceInfo:1,queueInfo:1},total:{serverInfo:10,tradeInfo:10,serviceInfo:10,queueInfo:10},pageSize:10,loading:{serverInfo:!1,tradeInfo:!1,serviceInfo:!1,queueInfo:!1},loadingInstance:{serverInfo:null,tradeInfo:null,serviceInfo:null,queueInfo:null}}},components:{"el-table":i.Table,"el-table-column":i.TableColumn,"el-button":i.Button,"tuxedo-bar":o.default,"el-pagination":i.Pagination},watch:{"loading.serverInfo":function(e){e?this.loadingInstance.serverInfo=i.Loading.service({target:this.$refs.loadingInstance_serverInfo}):this.loadingInstance.serverInfo&&(this.loadingInstance.serverInfo.close(),this.loadingInstance.serverInfo=null)},"loading.tradeInfo":function(e){e?this.loadingInstance.tradeInfo=i.Loading.service({target:this.$refs.loadingInstance_tradeInfo}):this.loadingInstance.tradeInfo&&(this.loadingInstance.tradeInfo.close(),this.loadingInstance.tradeInfo=null)},"loading.serviceInfo":function(e){e?this.loadingInstance.serviceInfo=i.Loading.service({target:this.$refs.loadingInstance_serviceInfo}):this.loadingInstance.serviceInfo&&(this.loadingInstance.serviceInfo.close(),this.loadingInstance.serviceInfo=null)},"loading.queueInfo":function(e){e?this.loadingInstance.queueInfo=i.Loading.service({target:this.$refs.loadingInstance_queueInfo}):this.loadingInstance.queueInfo&&(this.loadingInstance.queueInfo.close(),this.loadingInstance.queueInfo=null)},"currentPage.serverInfo":function(e){this.getPsr()},"currentPage.tradeInfo":function(e){this.getPclt()},"currentPage.serviceInfo":function(e){this.getPsc()},"currentPage.queueInfo":function(e){this.getPq()}},methods:{barChange:function(e){this.topBarQueryData=e,this.getCurentTimeData(),this.getPsr(),this.getPsc(),this.getPq(),this.getPclt()},getCurentTimeData:function(){var e=this;e.api.getBbs({data:{condition:{appId:this.appId,startTime:this.startTime,endTime:this.endTime,interval:this.interval,aggrInterval:this.aggrInterval}}}).done(function(t){if(0===t.code){var a=t.data[0]||[];if(_.isEmpty(a))e.currenTime.callBoard=[];else{var n=[{key:"Current number of servers",value:a.serverCt},{key:"Current number of services",value:a.serviceCt},{key:"Current number of request queues",value:a.queueCt},{key:"Current number of server groups",value:a.groupCt},{key:"Current number of interfaces",value:a.interfaceCt}];e.currenTime.callBoard=n}}})},getPsr:function(){var e=this;e.api.getPsr({data:{condition:{appId:this.appId,startTime:this.startTime,endTime:this.endTime,interval:this.interval,aggrInterval:this.aggrInterval},page:{index:e.currentPage.serverInfo-1,size:e.pageSize}},beforeSend:function(){e.loading.serverInfo=!0}}).done(function(t){0===t.code&&(e.currenTime.serverInfo=t.data.list,e.total.serverInfo=t.data.count)}).always(function(t){e.loading.serverInfo=!1})},getPsc:function(){var e=this;e.api.getPsc({data:{condition:{appId:this.appId,startTime:this.startTime,endTime:this.endTime,interval:this.interval,aggrInterval:this.aggrInterval},page:{index:e.currentPage.serviceInfo-1,size:e.pageSize}},beforeSend:function(){e.loading.serviceInfo=!0}}).done(function(t){0===t.code&&(e.currenTime.serviceInfo=t.data.list,e.total.serviceInfo=t.data.count)}).always(function(t){e.loading.serviceInfo=!1})},getPq:function(){var e=this;e.api.getPq({data:{condition:{appId:this.appId,startTime:this.startTime,endTime:this.endTime,interval:this.interval,aggrInterval:this.aggrInterval},page:{index:e.currentPage.queueInfo-1,size:e.pageSize}},beforeSend:function(){e.loading.queueInfo=!0}}).done(function(t){0===t.code&&(e.currenTime.queueInfo=t.data.list,e.total.queueInfo=t.data.count)}).always(function(t){e.loading.queueInfo=!1})},getPclt:function(){var e=this;e.api.getPclt({data:{condition:{appId:this.appId,startTime:this.startTime,endTime:this.endTime,interval:this.interval,aggrInterval:this.aggrInterval},page:{index:e.currentPage.tradeInfo-1,size:e.pageSize}},beforeSend:function(){e.loading.tradeInfo=!0}}).done(function(t){0===t.code&&(t.data.list.map(function(e){e.bca=e.begin+"/"+e.completed+"/"+e.abort}),e.currenTime.tradeInfo=t.data.list,e.total.tradeInfo=t.data.count)}).always(function(t){e.loading.tradeInfo=!1})},serverInfoHandleCurrentChange:function(e){this.currentPage.serverInfo=e},tradeInfoHandleCurrentChange:function(e){this.currentPage.tradeInfo=e},serviceInfoHandleCurrentChange:function(e){this.currentPage.serviceInfo=e},queueInfoHandleCurrentChange:function(e){this.currentPage.queueInfo=e}}}},849:function(e,t,a){t=e.exports=a(566)(),t.push([e.i,".table-box[data-v-e9473e04]{position:relative}.pag-wrap[data-v-e9473e04]{text-align:right}",""])},883:function(e,t,a){var n=a(849);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(567)("268bab0b",n,!0)},939:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("top-bar",{attrs:{title:"Tuxedo"},on:{barChange:e.barChange}}),e._v(" "),a("tuxedo-bar"),e._v(" "),a("div",{staticClass:"common-container"},[e._m(0),e._v(" "),a("div",{staticClass:"content"},[a("el-table",{attrs:{data:e.currenTime.callBoard,stripe:"","show-header":!1}},[a("el-table-column",{attrs:{prop:"key",label:"",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"value",label:"",align:"center"}})],1)],1)]),e._v(" "),a("div",{staticClass:"common-container"},[e._m(1),e._v(" "),a("div",{staticClass:"content"},[a("div",{ref:"loadingInstance_serverInfo",staticClass:"table-box"},[a("el-table",{staticClass:"mt20",staticStyle:{width:"100%"},attrs:{data:e.currenTime.serverInfo,stripe:""}},[a("el-table-column",{attrs:{prop:"progName",label:"Prog Name"}}),e._v(" "),a("el-table-column",{attrs:{prop:"queueName",label:"Queue Name"}}),e._v(" "),a("el-table-column",{attrs:{prop:"groupName",label:"Grp Name"}}),e._v(" "),a("el-table-column",{attrs:{prop:"serverId",label:"ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"requestDone",label:"RqDone"}}),e._v(" "),a("el-table-column",{attrs:{prop:"loadDone",label:"Load Done"}}),e._v(" "),a("el-table-column",{attrs:{prop:"serverStatus",label:"Current Service"}})],1),e._v(" "),a("div",{staticClass:"pag-wrap"},[a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:e.total.serverInfo>0,expression:"total.serverInfo > 0"}],attrs:{layout:"total, prev, pager, next","page-size":e.pageSize,"current-page":e.currentPage.serverInfo,total:e.total.serverInfo},on:{"current-change":e.serverInfoHandleCurrentChange}})],1)],1)])]),e._v(" "),a("div",{staticClass:"common-container"},[e._m(2),e._v(" "),a("div",{staticClass:"content"},[a("div",{ref:"loadingInstance_tradeInfo",staticClass:"table-box"},[a("el-table",{staticClass:"mt20",staticStyle:{width:"100%"},attrs:{data:e.currenTime.tradeInfo,stripe:""}},[a("el-table-column",{attrs:{prop:"lmId",label:"LMID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"userName",label:"User Name"}}),e._v(" "),a("el-table-column",{attrs:{prop:"clientName",label:"Client Name"}}),e._v(" "),a("el-table-column",{attrs:{prop:"linkTime",label:"Time Status"}}),e._v(" "),a("el-table-column",{attrs:{prop:"bca",label:"Bgn/Cmmt/Abrt"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"Status"}})],1),e._v(" "),a("div",{staticClass:"pag-wrap"},[a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:e.total.tradeInfo>0,expression:"total.tradeInfo > 0"}],attrs:{layout:"total, prev, pager, next","page-size":e.pageSize,"current-page":e.currentPage.tradeInfo,total:e.total.tradeInfo},on:{"current-change":e.tradeInfoHandleCurrentChange}})],1)],1)])]),e._v(" "),a("div",{staticClass:"common-container"},[e._m(3),e._v(" "),a("div",{staticClass:"content"},[a("div",{ref:"loadingInstance_serviceInfo",staticClass:"table-box"},[a("el-table",{staticClass:"mt20",staticStyle:{width:"100%"},attrs:{data:e.currenTime.serviceInfo,stripe:""}},[a("el-table-column",{attrs:{prop:"serviceName",label:"Service Name"}}),e._v(" "),a("el-table-column",{attrs:{prop:"routeName",label:"Routine Name"}}),e._v(" "),a("el-table-column",{attrs:{prop:"progName",label:"Prog Name"}}),e._v(" "),a("el-table-column",{attrs:{prop:"groupName",label:"Grp Name"}}),e._v(" "),a("el-table-column",{attrs:{prop:"id",label:"ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"machineId",label:"Machine"}}),e._v(" "),a("el-table-column",{attrs:{prop:"callCt",label:"# Done"}}),e._v(" "),a("el-table-column",{attrs:{prop:"serviceStatus",label:"Status"}})],1),e._v(" "),a("div",{staticClass:"pag-wrap"},[a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:e.total.serviceInfo>0,expression:"total.serviceInfo > 0"}],attrs:{layout:"total, prev, pager, next","page-size":e.pageSize,"current-page":e.currentPage.serviceInfo,total:e.total.serviceInfo},on:{"current-change":e.serviceInfoHandleCurrentChange}})],1)],1)])]),e._v(" "),a("div",{staticClass:"common-container"},[e._m(4),e._v(" "),a("div",{staticClass:"content"},[a("div",{ref:"loadingInstance_queueInfo",staticClass:"table-box"},[a("el-table",{staticClass:"mt20",staticStyle:{width:"100%"},attrs:{data:e.currenTime.queueInfo,stripe:""}},[a("el-table-column",{attrs:{prop:"progName",label:"Prog Name"}}),e._v(" "),a("el-table-column",{attrs:{prop:"queueName",label:"Queue Name"}}),e._v(" "),a("el-table-column",{attrs:{prop:"serverCt",label:"# Server"}}),e._v(" "),a("el-table-column",{attrs:{prop:"wkCt",label:"Wk Queued"}}),e._v(" "),a("el-table-column",{attrs:{prop:"queuedCt",label:"# Queued"}}),e._v(" "),a("el-table-column",{attrs:{prop:"avgLength",label:"Ave. Len"}}),e._v(" "),a("el-table-column",{attrs:{prop:"machineId",label:"Machine"}})],1),e._v(" "),a("div",{staticClass:"pag-wrap"},[a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:e.total.queueInfo>0,expression:"total.queueInfo > 0"}],attrs:{layout:"total, prev, pager, next","page-size":e.pageSize,"current-page":e.currentPage.queueInfo,total:e.total.queueInfo},on:{"current-change":e.queueInfoHandleCurrentChange}})],1)],1)])])],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header-title"},[a("span",{staticClass:"title-name"},[e._v("公告板")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header-title"},[a("span",{staticClass:"title-name"},[e._v("服务器信息")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header-title"},[a("span",{staticClass:"title-name"},[e._v("交易信息")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header-title"},[a("span",{staticClass:"title-name"},[e._v("服务信息")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header-title"},[a("span",{staticClass:"title-name"},[e._v("队列信息")])])}]}}});