/*! 2018-3-2 author:liuxiaofan */
webpackJsonp([24],{584:function(t,a,e){e(881);var i=e(54)(e(786),e(935),null,null);t.exports=i.exports},608:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default={data:function(){return{chartColors:["#a8d96f","#85cae6","#fab421","#f38211","#49a778","#e66a3e","#9d6858","#83bc1c","#4d6e83","#bac1c8"]}},created:function(){$(window).on("resize",this.change)},destroyed:function(){$(window).off("resize",this.change)},methods:{change:function(){this.chart&&this.chart.resize()}}}},609:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e(140),n=function(t){return t&&t.__esModule?t:{default:t}}(i);a.default={data:function(){return{topBarQueryData:{}}},props:{},watch:{},computed:{appId:function(){return this.topBarQueryData.system.id},startTime:function(){return Number(this.topBarQueryData.time.startTime)},endTime:function(){return n.default.cutEndTime(Number(this.topBarQueryData.time.endTime))},aggrInterval:function(){return n.default.intervalToGranularity(this.endTime-this.startTime)},interval:function(){return""}},methods:{}}},610:function(t,a,e){e(614);var i=e(54)(e(611),e(615),"data-v-79cbf3c8",null);t.exports=i.exports},611:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default={data:function(){return{headerHeight:50}},props:{showBorder:{required:!1,default:!1},showHeader:{required:!1,default:!1},title:{default:""},isEmpty:{default:!0},isLoading:{default:!1},height:{default:350,required:!1}}}},613:function(t,a,e){a=t.exports=e(566)(),a.push([t.i,".chart-container[data-v-79cbf3c8]{position:relative;border:0 solid;margin-bottom:16px;border-radius:2px;width:100%;height:100%}.chart-title[data-v-79cbf3c8]{width:100%;padding:0 16px;box-sizing:border-box;font-size:14px;color:#666!important}.chart-title .title-icon[data-v-79cbf3c8]{font-size:18px;margin-right:12px}.chart-placeholder[data-v-79cbf3c8]{position:relative;z-index:1;width:100%;height:100%;text-align:center}.chart-placeholder span[data-v-79cbf3c8]{position:absolute;top:50%;margin-top:-7px}.chart-header-hide[data-v-79cbf3c8]{display:none}.chart-border-hide[data-v-79cbf3c8]{border:0}",""])},614:function(t,a,e){var i=e(613);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);e(567)("a7f96c48",i,!0)},615:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"chart-container theme-backgroung-color-white theme-border-color-base",class:{"chart-border-hide":!t.showBorder},style:{height:t.height+"px"}},[e("div",{staticClass:"chart-title theme-font-color-base theme-background-color-normal",class:{"chart-header-hide":!t.showHeader},style:{height:t.headerHeight+"px",lineHeight:t.headerHeight+"px"}},[e("i",{staticClass:"title-icon icon ion-podium"}),t._v("\n    "+t._s(t.title)+"\n  ")]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isEmpty&&!t.isLoading,expression:"isEmpty && !isLoading"}],staticClass:"chart-placeholder theme-background-color-normal-1",style:{height:(t.showHeader?t.height-t.headerHeight:t.height)+"px"}},[e("span",{staticClass:"theme-font-color-weaken"},[t._v("暂无数据")])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.isEmpty,expression:"!isEmpty"}],staticClass:"chart-content",style:{height:(t.showHeader?t.height-t.headerHeight:t.height)+"px"}},[t._t("default")],2)])},staticRenderFns:[]}},680:function(t,a,e){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(a,"__esModule",{value:!0});var n=e(91),o=i(n),s=e(140),r=i(s),d=e(608),l=i(d),c=e(610),u=i(c);a.default={name:"chart-lines",mixins:[l.default],components:{chartContainer:u.default},mounted:function(){this.chart=echarts.init(this.$refs.chart)},data:function(){return{chart:null,localOptions:{tooltip:{trigger:"item",formatter:function(t){var a="",e=t.data;if(a+=window.$$apm.locale.value+": "+r.default.toDecimal(e[1])+"<br>",a+=window.$$apm.locale.startTime+": "+e[2]+"<br>",a+=window.$$apm.locale.endTime+": "+e[3]+"<br>",e[4])for(var i in e[4])a+=(window.$$apm.locale[i]?window.$$apm.locale[i]:i)+": "+e[4][i]+"<br>";return a}},grid:{containLabel:!0},xAxis:{type:"time",boundaryGap:!1},yAxis:{type:"value",splitLine:{show:!1},name:""}},isDataEmpty:!1}},props:{title:{reqiured:!0},data:{type:Object,required:!0},loading:!1,options:Object,isAutoHeight:!1,resized:0},watch:{title:function(t){console.info(this.title),this.renderChart()},data:{deep:!0,handler:function(t){this.renderChart()}},loading:function(t){t?this.chart.showLoading({color:"#cccccc",text:" "}):this.chart.hideLoading()},resized:function(t){this.chart.resize()}},methods:{checkData:function(){var t=this.data;return _.isEmpty(t)?void(this.isDataEmpty=!0):_.isEmpty(t.data)?void(this.isDataEmpty=!0):t.data.every(function(t){return _.isEmpty(t.list)})?void(this.isDataEmpty=!0):void(this.isDataEmpty=!1)},renderChart:function(){if(this.checkData(),!this.isDataEmpty){var t=this.data.data,a=0;t.forEach(function(t){a+=t.name.length,t.name=t.name.replace(/[\n\r]/g," ").replace(/\s+/g," ")});var e=(0,o.default)({},this.localOptions,{series:t.map(function(t,a){return t.list=t.list||[],{type:"line",name:t.name,smooth:!0,sampling:"average",hoverAnimation:!0,areaStyle:{normal:{}},data:t.list.map(function(t){return[t.x,t.y,t.startTime,t.endTime,t.info]})}})});1===t.length&&"None"===t[0].name||(e.legend={data:t.map(function(t,a){return t.name}),formatter:a>60?function(t){return echarts.format.truncateText(t,80,"12px Microsoft Yahei","…")}:null,tooltip:{show:a>60},top:"bottom"}),e.yAxis.name=this.data.unit||"",this.chart.setOption((0,o.default)({color:this.chartColors},e,this.options),!0),this.$nextTick(function(){this.chart.resize()})}}}}},698:function(t,a,e){a=t.exports=e(566)(),a.push([t.i,".chart-lines[data-v-4ea656a4],.chart[data-v-4ea656a4]{height:100%}",""])},711:function(t,a,e){var i=e(698);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);e(567)("70073bab",i,!0)},719:function(t,a,e){e(711);var i=e(54)(e(680),e(727),"data-v-4ea656a4",null);t.exports=i.exports},727:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"chart-lines"},[e("chart-container",{attrs:{title:t.title,isLoading:t.loading,isEmpty:t.isDataEmpty,isAutoHeight:t.isAutoHeight}},[e("div",{ref:"chart",staticClass:"chart"},[e("i",{staticClass:"el-icon-loading"})])])],1)},staticRenderFns:[]}},786:function(t,a,e){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(a,"__esModule",{value:!0});var n=e(91),o=i(n),s=e(609),r=i(s);a.default={data:function(){return{title:"浏览器",pageLoadData:{loading:!1,title:"页面加载分析",data:{}},apdexData:{loading:!1,title:"用户满意度分析",data:{}},browserData:{loading:!1,title:"浏览器分析",data:{}},basePv:{loading:!1,title:"访问量",data:{}},top5pv:{loading:!1,title:"top5访问量",data:{}},top5TimeSpend:{loading:!1,title:"top5耗时",data:{}},ajaxPv:{loading:!1,title:"ajax数量",data:{}},ajaxTime:{loading:!1,title:"ajax时间",data:{}},queryData:{interval:"",systemId:"",groupId:"",agentId:""}}},components:{"cm-lines":e(719)},mixins:[r.default],mounted:function(){},computed:{},methods:{barChange:function(t){this.topBarQueryData=t,this.queryData={appId:this.appId,aggrInterval:this.aggrInterval,interval:this.interval,startTime:this.startTime,endTime:this.endTime},this.getData()},getData:function(){var t=this,a=this.queryData;t.api.getWebPageLoad({data:{condition:(0,o.default)({},a)},beforeSend:function(){t.pageLoadData.loading=!0}}).done(function(a){t.pageLoadData.data=a||{}}).always(function(){t.pageLoadData.loading=!1}),t.api.getWebApdex({data:{condition:(0,o.default)({},a)},beforeSend:function(){t.apdexData.loading=!0}}).done(function(a){a.data&&a.data.length>0&&(a.data[0].name="Apdex"),t.apdexData.data=a||{}}).always(function(){t.apdexData.loading=!1}),t.api.getWebBrowser({data:{condition:(0,o.default)({},a)},beforeSend:function(){t.browserData.loading=!0}}).done(function(a){t.browserData.data=a||{}}).always(function(){t.browserData.loading=!1}),t.api.getWebBasepv({data:{condition:(0,o.default)({},a)},beforeSend:function(){t.basePv.loading=!0}}).done(function(a){a.data&&a.data.length>0&&(a.data[0].name="访问量"),t.basePv.data=a||{}}).always(function(){t.basePv.loading=!1}),t.api.getWebTop5pv({data:{condition:(0,o.default)({},a)},beforeSend:function(){t.top5pv.loading=!0}}).done(function(a){t.top5pv.data=a||{}}).always(function(){t.top5pv.loading=!1}),t.api.getWebTop5TimeSpend({data:{condition:(0,o.default)({},a)},beforeSend:function(){t.top5TimeSpend.loading=!0}}).done(function(a){t.top5TimeSpend.data=a||{}}).always(function(){t.top5TimeSpend.loading=!1}),t.api.getWebAjaxPv({data:{condition:(0,o.default)({},a)},beforeSend:function(){t.ajaxPv.loading=!0}}).done(function(a){a.data&&a.data.length>0&&(a.data[0].name="AJAX数量"),t.ajaxPv.data=a||{}}).always(function(){t.ajaxPv.loading=!1}),t.api.getWebAjaxTime({data:{condition:(0,o.default)({},a)},beforeSend:function(){t.ajaxTime.loading=!0}}).done(function(a){t.ajaxTime.data=a||{}}).always(function(){t.ajaxTime.loading=!1})}}}},847:function(t,a,e){a=t.exports=e(566)(),a.push([t.i,"",""])},881:function(t,a,e){var i=e(847);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);e(567)("4d516c5a",i,!0)},935:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"web-affair"},[e("top-bar",{attrs:{title:t.title},on:{barChange:t.barChange}}),t._v(" "),e("div",{staticClass:"common-container"},[e("div",{staticClass:"header-title"},[e("span",{staticClass:"title-name"},[t._v(t._s(t.pageLoadData.title))])]),t._v(" "),e("cm-lines",{attrs:{loading:t.pageLoadData.loading,data:t.pageLoadData.data,title:t.pageLoadData.title}})],1),t._v(" "),e("div",{staticClass:"common-container"},[e("div",{staticClass:"header-title"},[e("span",{staticClass:"title-name"},[t._v(t._s(t.apdexData.title))])]),t._v(" "),e("cm-lines",{attrs:{loading:t.apdexData.loading,data:t.apdexData.data,title:t.apdexData.title}})],1),t._v(" "),e("div",{staticClass:"common-container"},[e("div",{staticClass:"header-title"},[e("span",{staticClass:"title-name"},[t._v(t._s(t.browserData.title))])]),t._v(" "),e("cm-lines",{attrs:{loading:t.browserData.loading,data:t.browserData.data,title:t.browserData.title}})],1),t._v(" "),e("div",{staticClass:"common-container"},[e("div",{staticClass:"header-title"},[e("span",{staticClass:"title-name"},[t._v(t._s(t.basePv.title))])]),t._v(" "),e("cm-lines",{attrs:{loading:t.basePv.loading,data:t.basePv.data,title:t.basePv.title}})],1),t._v(" "),e("div",{staticClass:"common-container"},[e("div",{staticClass:"header-title"},[e("span",{staticClass:"title-name"},[t._v(t._s(t.top5pv.title))])]),t._v(" "),e("cm-lines",{attrs:{loading:t.top5pv.loading,data:t.top5pv.data,title:t.top5pv.title}})],1),t._v(" "),e("div",{staticClass:"common-container"},[e("div",{staticClass:"header-title"},[e("span",{staticClass:"title-name"},[t._v(t._s(t.top5TimeSpend.title))])]),t._v(" "),e("cm-lines",{attrs:{loading:t.top5TimeSpend.loading,data:t.top5TimeSpend.data,title:t.top5TimeSpend.title}})],1),t._v(" "),e("div",{staticClass:"common-container"},[e("div",{staticClass:"header-title"},[e("span",{staticClass:"title-name"},[t._v(t._s(t.ajaxPv.title))])]),t._v(" "),e("cm-lines",{attrs:{loading:t.ajaxPv.loading,data:t.ajaxPv.data,title:t.ajaxPv.title}})],1),t._v(" "),e("div",{staticClass:"common-container"},[e("div",{staticClass:"header-title"},[e("span",{staticClass:"title-name"},[t._v(t._s(t.ajaxTime.title))])]),t._v(" "),e("cm-lines",{attrs:{loading:t.ajaxTime.loading,data:t.ajaxTime.data,title:t.ajaxTime.title}})],1)],1)},staticRenderFns:[]}}});