define("uilibs/tabs",["tabs_core"],function(a,b,c){var d=a("tabs_core"),e=d.extend({attrs:{withTabEffect:!0,triggerBgTop:0,triggerBgLeft:0,triggerBgCls:""},setup:function(){var a;return this._setupTabEffect(),a=e.superclass.setup.apply(this,arguments)},render:function(){var a=e.superclass.render.apply(this,arguments);return a},_setupTabEffect:function(){var a,b=this.get("withTabEffect"),c=this.get("triggers").parent();b&&(a=$('<div class="ui-tab-trigger-bg"></div>'),c.wrap('<div class="'+this.get("triggerBgCls")+' ui-tab-trigger-wrapper"></div>'),a.insertAfter(c),this._adjustTriggerBg())},_adjustTriggerBg:function(){var a=this.get("activeIndex"),b=this.get("triggers").eq(a),c=b.closest(".ui-tab-trigger-wrapper").find(".ui-tab-trigger-bg"),d=b.position(),e=this.get("triggerBgTop"),f=this.get("triggerBgLeft");c.width(b.outerWidth()),c.css({left:d.left+f,top:e?e:d.top-2})},adjustTriggerBg:function(){this._adjustTriggerBg()},addTabs:function(a){var b=this,c=this.triggers.length;a=[].concat(a),_.each(a,function(a,d){var e=$(a.trigger),f=$(a.panel);e.addClass(this.CONST.TRIGGER_CLASS),e.data("value",c+d),b._bindTriggersFormArgs(e),f.addClass(b.CONST.PANEL_CLASS),b.set("triggers",b.get("triggers").add(e)),b.set("panels",b.get("panels").add(f))})},_bindTriggers:function(){function a(a){var b=$(this),h=b.position();g?(c=d.get("triggers").closest(".ui-tab-trigger-wrapper").find(".ui-tab-trigger-bg"),c.stop(!0,!0).animate({left:h.left+f,top:e?e:h.top-2},300,"swing",function(){d._onFocusTrigger(a.type,b.data("value")),d._adjustTriggerBg()})):d._onFocusTrigger(a.type,b.data("value"))}function b(){clearTimeout(d._switchTimer)}var c,d=this,e=this.get("triggerBgTop"),f=this.get("triggerBgLeft"),g=this.get("withTabEffect");"click"===this.get("triggerType")?this.triggers.click(a):this.triggers.hover(a,b)},_switchTrigger:function(){var a=e.superclass._switchTrigger.apply(this,arguments),b=this.get("triggers").closest(".ui-tab-trigger-wrapper").find(".ui-tab-trigger-bg"),c=this.get("triggers").eq(this.get("activeIndex")),d=c.position(),f=this.get("triggerBgTop"),g=this.get("triggerBgLeft");return b.css({left:d.left+g,top:f?f:d.top-2}),a},_bindTriggersFormArgs:function(a){function b(a){d._onFocusTrigger(a.type,$(this).data("value"))}function c(){clearTimeout(d._switchTimer)}var d=this,e=$(a);"click"===this.get("triggerType")?e.click(b):e.hover(b,c)}});c.exports=e});