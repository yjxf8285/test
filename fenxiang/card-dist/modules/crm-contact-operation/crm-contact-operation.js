/**
 * 纷享模块逻辑
 * @Author: 纷享网页前端部
 * @Date: 2014-11-03
 */
define("modules/crm-contact-operation/crm-contact-operation",["widget","modules/crm-contact-operation/crm-contact-operation.html","util"],function(a,b,c){var d=window;d.FS;var e=a("widget"),f=a("modules/crm-contact-operation/crm-contact-operation.html");a("util");var g=e.extend({attrs:{element:null,isFollow:null},events:{"click .crm-contact-operation-select-li":"_select","click .crm-contact-operation-new-li":"_new","click .crm-contact-operation":"_showOperation"},setup:function(){var a=g.superclass.render.apply(this,arguments);return this._init(),a},_select:function(){$(".crm-contact-operation-container",this.element).hide(),this.trigger("select")},_new:function(){$(".crm-contact-operation-container",this.element).hide(),this.trigger("new")},_init:function(){this.element.html(f),this.get("isFollow")?$(".crm-contact-operation-select-li",this.element).hide():$(".crm-contact-operation-select-li",this.element).show(),this._initEvent()},_initEvent:function(){$(document).on("click",function(a){$(a.target).is(".crm-contact-operation-container")||$(a.target).is(".crm-contact-operation-ul")||$(a.target).is(".crm-contact-operation-new-li")||$(a.target).is(".crm-contact-operation-select-li")||$(a.target).is(".crm-contact-operation")||$(".crm-contact-operation-container",this.element).hide()})},_showOperation:function(a){var b=$(a.currentTarget);$(".crm-contact-operation-container",this.element).css({left:b.position().left-170,top:b.position().top+35}),$(".crm-contact-operation-container",this.element).show()},destroy:function(){var a=g.superclass.render.apply(this,arguments);return a}});c.exports=g});