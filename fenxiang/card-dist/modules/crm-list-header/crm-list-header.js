/**
 * 纷享模块逻辑
 * @Author: 纷享网页前端部
 * @Date: 2014-11-03
 */
define("modules/crm-list-header/crm-list-header",["widget","util","modules/crm-list-header/crm-list-header.html","uilibs/search-box"],function(a,b,c){var d=window;d.FS;var e=a("widget"),f=a("util"),g=a("modules/crm-list-header/crm-list-header.html"),h=a("uilibs/search-box"),i=e.extend({attrs:{element:null,title:"",searchPlaceholder:"搜索"},setup:function(){var a=i.superclass.render.apply(this,arguments);return this._init(),a},_init:function(){this.element.html(g),this._initHtml(),this._initSearchBox(),this.setCount()},_initHtml:function(){$(".crm-list-header-name",this.element).text(this.get("title")),$(".crm-list-header-name",this.element).attr("title",this.get("title"))},_initSearchBox:function(){var a=this,b=new h({element:$(".crm-list-header-search",a.element),placeholder:a.get("searchPlaceholder")});b.on("search",function(b){var c=b.length||0,d=200;c>d?f.alert("关键词长度不能大于"+d+"字,请修改",function(){}):a.trigger("search",b)}),a.searchBox=b},clearSearch:function(){this.searchBox.clear()},setTitle:function(a){$(".crm-list-header-name",this.element).text(a),$(".crm-list-header-name",this.element).attr("title",a)},setCount:function(a){a?($(".count-text",this.element).show(),$(".count-num",this.element).text(a)):$(".count-text",this.element).hide()},destroy:function(){var a=i.superclass.render.apply(this,arguments);return this.element.empty(),a}});c.exports=i});