/**
 * 纷享模块逻辑
 * @Author: 纷享网页前端部
 * @Date: 2014-11-03
 */
define("modules/crm-attachment-rename/crm-attachment-rename",["dialog","util","modules/crm-attachment-rename/crm-attachment-rename.html"],function(a,b,c){var d=a("dialog"),e=a("util"),f=a("modules/crm-attachment-rename/crm-attachment-rename.html"),g=d.extend({attrs:{content:f,width:455,attachId:0,closeTpl:"<div class = 'crm-ui-dialog-close'>×</div>",attachName:""},setup:function(){var a=g.superclass.setup.apply(this,arguments);return a},render:function(){var a=g.superclass.render.apply(this,arguments);return a},hide:function(){var a=g.superclass.hide.apply(this,arguments);return this.reset(),a},show:function(a,b){var c=g.superclass.show.apply(this,arguments);return $(".crm-attachment-rename-old-name",this.element).text(e.getFileNamePath(b)),this.set("attachId",a),this.set("attachName",b),c},events:{"click .crm-attachment-rename-button-ok":"_submit","click .crm-attachment-rename-button-cancel":"_cancel","keyup .crm-attachment-rename-input":"_keyup"},_keyup:function(a){return 13==a.keyCode?(this._submit(),void 0):void 0},reset:function(){$(".crm-attachment-rename-input",this.element).val("")},_cancel:function(){this.hide()},_submit:function(){var a=$(".crm-attachment-rename-input",this.element).val(),b=this.get("attachName"),c=this.get("attachId");return a?(this.trigger("submit",c,b,a),this.hide(),void 0):(e.showInputError($(".crm-attachment-rename-input",this.element)),void 0)},destroy:function(){var a=g.superclass.destroy.apply(this,arguments);return a}});c.exports=g});