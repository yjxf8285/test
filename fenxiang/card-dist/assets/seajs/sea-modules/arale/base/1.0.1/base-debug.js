/**
 * 纷享页面逻辑
 * @Author: 纷享网页前端部
 * @Date: 2014-11-03
 */
define("arale/base/1.0.1/base-debug",["arale/class/1.0.0/class-debug","arale/events/1.0.0/events-debug","./aspect-debug","./attribute-debug"],function(a,b,c){var d=a("arale/class/1.0.0/class-debug"),e=a("arale/events/1.0.0/events-debug"),f=a("./aspect-debug"),g=a("./attribute-debug");c.exports=d.create({Implements:[e,f,g],initialize:function(a){this.initAttrs(a)},destroy:function(){this.off();for(var a in this)this.hasOwnProperty(a)&&delete this[a]}})}),define("arale/base/1.0.1/aspect-debug",[],function(a,b){function c(a,b,c,g){for(var h,i,j=b.split(f);h=j.shift();)i=d(this,h),i.__isAspected||e.call(this,h),this.on(a+":"+h,c,g);return this}function d(a,b){var c=a[b];if(!c)throw new Error("Invalid method name: "+b);return c}function e(a){var b=this[a];this[a]=function(){var c=Array.prototype.slice.call(arguments),d=["before:"+a].concat(c);this.trigger.apply(this,d);var e=b.apply(this,arguments);return this.trigger("after:"+a,e),e},this[a].__isAspected=!0}b.before=function(a,b,d){return c.call(this,"before",a,b,d)},b.after=function(a,b,d){return c.call(this,"after",a,b,d)};var f=/\s+/}),define("arale/base/1.0.1/attribute-debug",[],function(a,b){function c(a){return"[object String]"===t.call(a)}function d(a){return"[object Function]"===t.call(a)}function e(a){return null!=a&&a==a.window}function f(a){if(!a||"[object Object]"!==t.call(a)||a.nodeType||e(a))return!1;try{if(a.constructor&&!u.call(a,"constructor")&&!u.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(b){return!1}for(var c in a);return void 0===c||u.call(a,c)}function g(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}function h(a,b){var c,d;for(c in b)if(b.hasOwnProperty(c)){if(d=b[c],v(d))d=d.slice();else if(f(d)){var e=a[c];f(e)||(e={}),d=h(e,d)}a[c]=d}return a}function i(a){return a.charAt(0).toUpperCase()+a.substring(1)}function j(a,b){for(var c=[],d=a.constructor.prototype;d;)d.hasOwnProperty("attrs")||(d.attrs={}),k(b,d.attrs,d),g(d.attrs)||c.unshift(d.attrs),d=d.constructor.superclass;for(var e={},f=0,i=c.length;i>f;f++)e=h(e,p(c[f]));return e}function k(a,b,c,d){for(var e=0,f=a.length;f>e;e++){var g=a[e];c.hasOwnProperty(g)&&(b[g]=d?b.get(g):c[g])}}function l(a,b){for(var c in b)if(b.hasOwnProperty(c)){var d="_onChange"+i(c);a[d]&&a.on("change:"+c,a[d])}}function m(a,b){for(var c in b)if(b.hasOwnProperty(c)){var e,f=b[c].value;d(f)&&(e=c.match(x))&&(a[e[1]](n(e[2]),f),delete b[c])}}function n(a){var b=a.match(y),c=b[1]?"change:":"";return c+=b[2].toLowerCase()+b[3]}function o(a,b,c){var d={silent:!0};a.__initializingAttrs=!0;for(var e in c)c.hasOwnProperty(e)&&b[e].setter&&a.set(e,c[e].value,d);delete a.__initializingAttrs}function p(a,b){a=h({},a);for(var c in a){var d=a[c];f(d)&&!b&&q(d,z)||(a[c]={value:d})}return a}function q(a,b){for(var c=0,d=b.length;d>c;c++)if(a.hasOwnProperty(b[c]))return!0;return!1}function r(a){return null==a||(c(a)||v(a))&&0===a.length||f(a)&&g(a)}function s(a,b){if(a===b)return!0;if(r(a)&&r(b))return!0;var c=t.call(a);if(c!=t.call(b))return!1;switch(c){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase;case"[object Array]":var d=a.toString(),e=b.toString();return-1===d.indexOf("[object")&&-1===e.indexOf("[object")&&d===e}if("object"!=typeof a||"object"!=typeof b)return!1;if(f(a)&&f(b)){if(!s(w(a),w(b)))return!1;for(var g in a)if(a[g]!==b[g])return!1;return!0}return!1}b.initAttrs=function(a,b){b&&(a=a?h(b,a):b);var c,d=this.propsInAttrs||[],e=j(this,d),f=h({},e);a&&(c=p(a,!0),h(f,c)),l(this,f),this.attrs=f,o(this,f,c),m(this,f),k(d,this,this.attrs,!0)},b.get=function(a){var b=this.attrs[a]||{},c=b.value;return b.getter?b.getter.call(this,c,a):c},b.set=function(a,b,d){var e={};c(a)?e[a]=b:(e=a,d=b),d||(d={});var g=d.silent,i=this.attrs,j=this.__changedAttrs||(this.__changedAttrs={});for(a in e)if(e.hasOwnProperty(a)){var k=i[a]||(i[a]={});if(b=e[a],k.readOnly)throw new Error("This attribute is readOnly: "+a);k.setter&&(b=k.setter.call(this,b,a));var l=this.get(a);f(l)&&f(b)&&(b=h(h({},l),b)),i[a].value=b,this.__initializingAttrs||s(l,b)||(g?j[a]=[b,l]:this.trigger("change:"+a,b,l,a))}return this},b.change=function(){var a=this.__changedAttrs;if(a){for(var b in a)if(a.hasOwnProperty(b)){var c=a[b];this.trigger("change:"+b,c[0],c[1],b)}delete this.__changedAttrs}return this};var t=Object.prototype.toString,u=Object.prototype.hasOwnProperty,v=Array.isArray||function(a){return"[object Array]"===t.call(a)},w=Object.keys;w||(w=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b});var x=/^(on|before|after)([A-Z].*)$/,y=/^(Change)?([A-Z])(.*)/,z=["value","getter","setter","readOnly"]});