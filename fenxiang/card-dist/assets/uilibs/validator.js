define("uilibs/validator",["validator_core","widget"],function(a,b,c){var d=a("validator_core"),e=a("widget"),f=[],g=d.extend({setup:function(){var a=this;this.items=[],isForm="form"==this.element.get(0).tagName.toLowerCase(),isForm&&(novalidate_old=this.element.attr("novalidate"),"noValidate"in document.createElement("form")&&this.element.attr("novalidate","novalidate"),this.get("checkOnSubmit")&&this.element.submit(function(b){b.preventDefault(),a.execute(function(b){b||a.get("autoSubmit")&&a.element.get(0).submit()})})),this.on("formValidate",function(){var a=this;$.each(this.items,function(b,c){a.query(c.element).get("hideMessage").call(a,null,c.element)})}),this.on("itemValidated",function(a,b,c){a?this.query(c).get("showMessage").call(this,b,c):this.query(c).get("hideMessage").call(this,b,c)}),this.get("autoFocus")&&this.on("formValidated",function(b,c){if(b){var d=null;$.each(c,function(a,b){var c=b[0],e=b[2];return c?(d=e,!1):void 0}),a.trigger("autoFocus",d),d.focus()}}),f.push(this)},destroy:function(){isForm&&(void 0==novalidate_old?this.element.removeAttr("novalidate"):this.element.attr("novalidate",novalidate_old),this.element.unbind("submit"));var a=this;$.each(this.items,function(b,c){a.removeItem(c)});var b;$.each(f,function(a,c){return c==this?(b=a,!1):void 0}),f.splice(b,1),e.prototype.destroy.call(this)}});c.exports=g});