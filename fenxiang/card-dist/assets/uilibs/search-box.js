define("uilibs/search-box",["util","events"],function(a,b,c){var d=window,e=d.FS;e.tpl;var f=a("util"),g=a("events"),h=function(a){a=_.extend({element:null,placeholder:"",autoRender:!0},a||{}),this.opts=a,this.element=$(a.element),this.init()};_.extend(h.prototype,{init:function(){var a=this.opts;this.element,a.autoRender&&this.render(),this.bindEvent()},render:function(){var a=this.element,b=this.opts,c=b.placeholder;a.addClass("ui-search-box"),a.html('<span class="ui-search-box-inner"><input type="text" class="ui-search-field crm-textfield" placeholder="'+c+'" /><button type="button" class="button-submit">搜索</button></span>'),f.placeholder($(".ui-search-field",a))},bindEvent:function(){var a=this,b=this.element;b.on("click",".button-submit",function(){a.trigger("search",a.getValue())}).on("keydown",".ui-search-field",function(b){13==b.keyCode&&(a.trigger("search",a.getValue()),b.preventDefault())})},getValue:function(){return _.str.trim($(".ui-search-field",this.element).val())},clear:function(){$(".ui-search-field",this.element).val("")},destroy:function(){var a=this.element;a.removeClass("ui-search-box"),a.off(),a.empty()}}),g.mixTo(h),c.exports=h});