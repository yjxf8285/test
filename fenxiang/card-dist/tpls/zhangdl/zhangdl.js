/**
 * 纷享页面逻辑
 * @Author: 纷享网页前端部
 * @Date: 2014-11-03
 */
define("tpls/zhangdl/zhangdl",["util","uilibs/pagination2","uilibs/currency-input","uilibs/select2","uilibs/tabs2","modules/crm-select-colleague/crm-select-colleague","modules/crm-attachment-simple/crm-attachment-simple","modules/crm-tag-dialog/crm-tag-dialog","modules/crm-file-dialog/crm-file-dialog","modules/crm-attachment/crm-attachment","modules/crm-attachment-rename/crm-attachment-rename","modules/crm-subordinate-select/crm-subordinate-select","modules/crm-object-import/crm-object-import","modules/crm-customer-export/crm-customer-export","modules/crm-select-contacts/crm-select-contacts","modules/crm-select-customer/crm-select-customer","modules/crm-select-opp/crm-select-opp","modules/crm-productinopp-edit/crm-productinopp-edit","modules/crm-competitorinopp-edit/crm-competitorinopp-edit","modules/crm-customerinsetting-edit/crm-customerinsetting-edit","modules/crm-select-product/crm-select-product","modules/crm-select-competitor/crm-select-competitor","modules/crm-paymentplan-edit/crm-paymentplan-edit","modules/crm-paymentrecord-edit/crm-paymentrecord-edit","modules/crm-contract-edit/crm-contract-edit","modules/crm-contact-view/crm-contact-view","modules/crm-publish/crm-publish","modules/crm-customer-map/crm-customer-map","modules/crm-follow-up/crm-follow-up","modules/crm-contact-box/crm-contact-box"],function(a,b){var c=window,d=c.FS,e=d.tpl;e.event;var f=(a("util"),a("uilibs/pagination2")),g=a("uilibs/currency-input"),h=a("uilibs/select2"),i=a("uilibs/tabs2"),j=a("modules/crm-select-colleague/crm-select-colleague"),k=a("modules/crm-attachment-simple/crm-attachment-simple"),l=a("modules/crm-tag-dialog/crm-tag-dialog"),m=a("modules/crm-file-dialog/crm-file-dialog"),n=a("modules/crm-attachment/crm-attachment"),o=a("modules/crm-attachment-rename/crm-attachment-rename"),p=a("modules/crm-subordinate-select/crm-subordinate-select"),q=a("modules/crm-object-import/crm-object-import"),r=a("modules/crm-customer-export/crm-customer-export"),s=a("modules/crm-select-contacts/crm-select-contacts"),t=a("modules/crm-select-customer/crm-select-customer"),u=a("modules/crm-select-opp/crm-select-opp"),v=(a("modules/crm-productinopp-edit/crm-productinopp-edit"),a("modules/crm-competitorinopp-edit/crm-competitorinopp-edit"),a("modules/crm-customerinsetting-edit/crm-customerinsetting-edit")),w=a("modules/crm-select-product/crm-select-product"),x=a("modules/crm-select-competitor/crm-select-competitor"),y=a("modules/crm-paymentplan-edit/crm-paymentplan-edit"),z=a("modules/crm-paymentrecord-edit/crm-paymentrecord-edit"),A=a("modules/crm-contract-edit/crm-contract-edit"),B=(a("modules/crm-contact-view/crm-contact-view"),a("modules/crm-publish/crm-publish")),C=a("modules/crm-customer-map/crm-customer-map"),D=a("modules/crm-follow-up/crm-follow-up"),E=a("modules/crm-contact-box/crm-contact-box");b.init=function(){var a=b.tplEl;b.tplName;var c=new f({element:$(".pagination-wrapper",a),pageSize:11,totalSize:2e4,activePageNumber:1}),d=new h({element:$(".select-wrapper",a),autoRender:!0,hasAll:!0,options:[{value:1,text:"test1"},{value:2,text:"test2"},{value:3,text:"test3"}]}),e=new l({}),F=new m({});new D({element:$(".crm_follow_up",a),addApi:"/FCustomer/AddFCustomerCombineSalers",deleteApi:"/FCustomer/DeleteFCustomerCombineSaler",parameter:{customerID:495,employeeIDs:""},items:[],title:"联合跟进人",typeName:"客户",name:"联合跟进人"}),new E({element:$(".crm_contact_box",a)}),new E({element:$(".crm_contact_modify",a),customerID:495,type:"modify",parameter:{salesOpportunityID:157,employeeIDs:""}});var G=new q({title:"我的客户导入",downloadApi:"GetMyFCustomerExcelTemplate",importApi:"/FCustomer/ImportMyFCustomer",downloadText:"我的客户导入模板"}),H=new r({title:"测试客户导出",exportApi:"/FCustomer/ExportAllFCustomersExcel"});new p({element:$(".subordinate_wrapper",a),employeeName:"测试"});var I=new i({element:$(".crm-tabs-test",a),items:[{value:"test1",text:"test1"},{value:"test2",text:"test2"},{value:"test3",text:"test3"},{value:"test4",text:"test4"},{value:"test5",text:"test5"}]});I.on("change",function(a,b){alert(b)}),new B({element:$(".crm_publish_wrapper",a),title:"测试",placeholder:"placeholder",type:"event",condition:{customerID:482,contactIDs:"",fileInfos:[],isAllDayEvent:!1,startTime:0,remindType:1,isSentSms:!1,feedContent:"",parentFeedID:0,listTagOptionID:[],fbrType:1,dataID:482,dataID1:0,dataID2:0},display:["time","contact","picture","attach","tag"]}),new B({element:$(".crm_feed_publish_wrapper",a),title:"feed测试",type:"feed",condition:{fileInfos:[],feedContent:"",fbrType:4,dataID:165},display:["picture","attach"]}),new C({element:$(".crm_map",a),address:"北京市海淀区知春路甲63号卫星大厦7层703",mapWidth:600});var J=new k({element:$(".attachment_wrapper",a),items:[{attachName:"test.xls",attachPath:"attachPath",fileName:"attachPath"},{attachName:"test.xls",attachPath:"attachPath",fileName:"attachPath"},{attachName:"test.xls",attachPath:"attachPath",fileName:"attachPath"}]}),K=new o({}),L=new n({element:$(".attach_list",a)}),M=new j({isMultiSelect:!0,hasWorkLeaveBtn:!1,title:"sdfdsfas"}),N=new s({url:"/Contact/GetContactsByCustomerID/",defaultCondition:{customerID:495}}),O=new t({}),P=new u,Q=new y({contractPaymentPlanID:103,contractID:157,contractTitle:"ttt",contractPaymentPlan:void 0,payTimes:[]});Q.on("success",function(){console.log(arguments)});var R=new z({}),S=new w({salesOpportunityID:153});S.on("success",function(){console.log(arguments)}),S.on("good",function(){console.log(arguments)}),new x({salesOpportunityID:153});var T=new g({element:$(".currency_input",a)});new g({element:$(".currency_input1",a)}),J.on("toAll",function(){alert("toAll")}),J.on("upload",function(){alert("upload")}),K.on("submit",function(a,b,c){alert("attachId:"+a+"+++++++oldName:"+b+"......newName:"+c)}),d.on("selected",function(a){alert(a.text)}),c.on("page",function(a){alert(a)}),M.on("selected",function(a){alert(a.name)}),N.on("selected",function(a){alert(a.length)}),O.on("selected",function(a){alert(a.length)}),$("#btn_test",a).click(function(){var a=$("#ipt_test").val();c.setTotalSize(a)}),$("#btn_showDialog",a).click(function(){M.show()}),$("#btn_tagDialog",a).click(function(){e.willShow()}),$("#btn_renameDialog",a).click(function(){K.show(100,"old name")}),$("#btn_fileDialog",a).click(function(){F.show()}),$("#btn_importDialog",a).click(function(){G.show()}),$("#btn_exportDialog",a).click(function(){H.show()}),$("#btn_contactsDialog",a).click(function(){N.show()}),$("#btn_customerDialog",a).click(function(){O.show("测试")}),$("#btn_alert",a).click(function(){L.reset({dataID:100})}),$("#btn_confirm",a).click(function(){T.setValue(1256)}),$("#btn_oppselect",a).click(function(){P.show()}),$("#btn_paymentplan",a).click(function(){Q.show()}),$("#btn_paymentrecord",a).click(function(){R.show(),this.createDialogInOpp=new A({salesOpportunityID:11,salesOpportunityName:"tt",customerID:22,customerName:"ss"}),this.createDialogInOpp.show()}),$("#btn_select_product",a).click(function(){S.show()}),$("#btn_product_inopp",a).click(function(){var a=new v;a.show({customerID:501})})}});